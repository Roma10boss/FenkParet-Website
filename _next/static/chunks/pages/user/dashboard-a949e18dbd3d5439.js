(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{7005:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/dashboard",function(){return r(8942)}])},8942:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(5893),a=r(7294),n=r(9008),l=r.n(n),i=r(1664),d=r.n(i),c=r(2490),o=r(1163);r(6501);var m=r(7066),x=r(1429),h=r(5407),u=r(9711),g=r(6162),p=r(807),f=r(5257),v=r(3204),j=r(7702);let w=a.forwardRef(function(e,t){var{title:r,titleId:s}=e,n=(0,j._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))});var b=()=>{let{user:e,isAuthenticated:t,loading:r}=(0,c.a)(),n=(0,o.useRouter)(),[i,j]=(0,a.useState)(!0),[b,N]=(0,a.useState)({totalOrders:0,pendingOrders:0,completedOrders:0,totalSpent:0}),[k,y]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(!r){if(!t){n.push("/auth/login");return}E()}},[t,r,n]);let E=async()=>{try{j(!0);let e=localStorage.getItem("token"),t=(await m.Z.get("".concat("https://fenkparet-backend.onrender.com","/api/orders/my-orders"),{headers:{Authorization:"Bearer ".concat(e)}})).data.orders||[],r=t.length,s=t.filter(e=>["pending","payment-pending","processing"].includes(e.status)).length,a=t.filter(e=>["delivered","completed"].includes(e.status)).length,n=t.filter(e=>"cancelled"!==e.status).reduce((e,t)=>{var r;return e+((null===(r=t.pricing)||void 0===r?void 0:r.total)||0)},0);N({totalOrders:r,pendingOrders:s,completedOrders:a,totalSpent:n}),y(t.slice(0,5))}catch(e){console.error("Error fetching dashboard data:",e),N({totalOrders:5,pendingOrders:2,completedOrders:3,totalSpent:1250}),y([{_id:"1",orderNumber:"ORD-001",status:"delivered",pricing:{total:350},createdAt:new Date().toISOString(),items:[{productSnapshot:{name:"Premium T-Shirt"},quantity:2}]},{_id:"2",orderNumber:"ORD-002",status:"processing",pricing:{total:150},createdAt:new Date().toISOString(),items:[{productSnapshot:{name:"Coffee Mug"},quantity:1}]}])}finally{j(!1)}},Z=e=>{switch(e){case"delivered":case"completed":return(0,s.jsx)(x.Z,{className:"h-5 w-5 text-green-500"});case"processing":case"shipped":return(0,s.jsx)(h.Z,{className:"h-5 w-5 text-blue-500"});case"cancelled":return(0,s.jsx)(u.Z,{className:"h-5 w-5 text-red-500"});default:return(0,s.jsx)(g.Z,{className:"h-5 w-5 text-yellow-500"})}},M=e=>({pending:"En attente","payment-pending":"Paiement en attente",confirmed:"Confirm\xe9",processing:"En traitement",shipped:"Exp\xe9di\xe9",delivered:"Livr\xe9",cancelled:"Annul\xe9"})[e]||e,O=e=>"".concat(e.toFixed(2)," HTG");return r||i?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"Tableau de bord - Fenkparet"}),(0,s.jsx)("meta",{name:"description",content:"Votre tableau de bord personnel"})]}),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Bienvenue, ",null==e?void 0:e.name,"!"]}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"G\xe9rez vos commandes et votre profil depuis votre tableau de bord"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(p.Z,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Commandes"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:b.totalOrders})]})]})}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(g.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"En attente"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:b.pendingOrders})]})]})}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(x.Z,{className:"h-8 w-8 text-green-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Compl\xe9t\xe9es"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:b.completedOrders})]})]})}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-green-600 font-semibold text-sm",children:"HTG"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total D\xe9pens\xe9"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:O(b.totalSpent)})]})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Actions rapides"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)(d(),{href:"/user/orders",className:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(p.Z,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Mes commandes"})]}),(0,s.jsxs)(d(),{href:"/user/profile",className:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(f.Z,{className:"h-6 w-6 text-green-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Mon profil"})]}),(0,s.jsxs)(d(),{href:"/user/wishlist",className:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(v.Z,{className:"h-6 w-6 text-red-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Ma liste de souhaits"})]}),(0,s.jsxs)(d(),{href:"/user/settings",className:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(w,{className:"h-6 w-6 text-gray-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Param\xe8tres"})]})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Commandes r\xe9centes"}),(0,s.jsx)(d(),{href:"/user/orders",className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Voir tout"})]})}),(0,s.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:k.length>0?k.map(e=>{var t,r;return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:Z(e.status)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.orderNumber}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleDateString("fr-FR")})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:O((null===(t=e.pricing)||void 0===t?void 0:t.total)||0)}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:M(e.status)})]})]}),e.items&&e.items.length>0&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[null===(r=e.items[0].productSnapshot)||void 0===r?void 0:r.name,e.items.length>1&&" et ".concat(e.items.length-1," autre(s)")]})})]},e._id)}):(0,s.jsxs)("div",{className:"p-6 text-center",children:[(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune commande r\xe9cente"}),(0,s.jsx)(d(),{href:"/products",className:"inline-block mt-2 text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Commencer vos achats"})]})})]})})]})]})})]})}},1429:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},6162:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},3204:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});t.Z=n},807:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});t.Z=n},5407:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))});t.Z=n},5257:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});t.Z=n},9711:function(e,t,r){"use strict";var s=r(7702),a=r(7294);let n=a.forwardRef(function(e,t){var{title:r,titleId:n}=e,l=(0,s._)(e,["title","titleId"]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=7005)}),_N_E=e.O()}]);