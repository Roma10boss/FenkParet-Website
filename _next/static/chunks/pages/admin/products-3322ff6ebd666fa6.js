(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{2678:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/products",function(){return r(2802)}])},2802:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(5893),s=r(7294),c=r(5675),l=r.n(c),o=r(1163),i=r(9761),n=r(4410),d=r(567),u=r(4932),m=e=>{var t;let{product:r,categories:c,onClose:o,onSubmit:n}=e,[m,x]=(0,s.useState)({name:(null==r?void 0:r.name)||"",description:(null==r?void 0:r.description)||"",sku:(null==r?void 0:r.sku)||"",price:(null==r?void 0:r.price)||"",compareAtPrice:(null==r?void 0:r.compareAtPrice)||"",stock:(null==r?void 0:r.stock)||"",categoryId:(null==r?void 0:r.categoryId)||"",status:(null==r?void 0:r.status)||"draft",tags:(null==r?void 0:null===(t=r.tags)||void 0===t?void 0:t.join(", "))||"",weight:(null==r?void 0:r.weight)||"",dimensions:(null==r?void 0:r.dimensions)||"",images:(null==r?void 0:r.images)||[]}),[p,h]=(0,s.useState)({}),[g,b]=(0,s.useState)(!1),{showSuccess:y,showError:f}=(0,i.V)();(0,s.useEffect)(()=>{if(r){var e;x({name:r.name||"",description:r.description||"",sku:r.sku||"",price:r.price||"",compareAtPrice:r.compareAtPrice||"",stock:r.stock||"",categoryId:r.categoryId||"",status:r.status||"draft",tags:(null===(e=r.tags)||void 0===e?void 0:e.join(", "))||"",weight:r.weight||"",dimensions:r.dimensions||"",images:r.images||[]})}},[r]);let j=e=>{let{name:t,value:r}=e.target;x(e=>(0,u._)((0,d._)({},e),{[t]:r})),p[t]&&h(e=>(0,u._)((0,d._)({},e),{[t]:""}))},v=async e=>{let t=Array.from(e.target.files);if(0!==t.length)try{b(!0);let e=t.map(async e=>{let t=new FormData;t.append("image",e);let r=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/upload"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:t});if(!r.ok)throw Error("Failed to upload image");return(await r.json()).url}),r=await Promise.all(e);x(e=>(0,u._)((0,d._)({},e),{images:[...e.images,...r]})),y("Images uploaded successfully")}catch(e){console.error("Error uploading images:",e),f("Failed to upload images. Please try again.")}finally{b(!1)}},N=e=>{x(t=>(0,u._)((0,d._)({},t),{images:t.images.filter((t,r)=>r!==e)}))},k=()=>{let e={};return m.name.trim()||(e.name="Product name is required"),m.sku.trim()||(e.sku="SKU is required"),(!m.price||0>=parseFloat(m.price))&&(e.price="Valid price is required"),(!m.stock||0>parseInt(m.stock))&&(e.stock="Valid stock quantity is required"),m.categoryId||(e.categoryId="Category is required"),h(e),0===Object.keys(e).length},w=async e=>{if(e.preventDefault(),k())try{b(!0);let e=(0,u._)((0,d._)({},m),{price:parseFloat(m.price),compareAtPrice:m.compareAtPrice?parseFloat(m.compareAtPrice):null,stock:parseInt(m.stock),weight:m.weight?parseFloat(m.weight):null,tags:m.tags.split(",").map(e=>e.trim()).filter(e=>e)}),t=r?"".concat("https://fenkparet-backend.onrender.com","/api/admin/products/").concat(r.id):"".concat("https://fenkparet-backend.onrender.com","/api/admin/products");if(!(await fetch(t,{method:r?"PUT":"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to ".concat(r?"update":"create"," product"));y("Product ".concat(r?"updated":"created"," successfully")),n()}catch(e){console.error("Error saving product:",e),f("Failed to ".concat(r?"update":"create"," product. Please try again."))}finally{b(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-md bg-white max-h-[80vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:r?"Edit Product":"Add New Product"}),(0,a.jsx)("button",{type:"button",onClick:o,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,a.jsx)("input",{type:"text",name:"name",value:m.name,onChange:j,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(p.name?"border-red-300":"border-gray-300"),placeholder:"Enter product name"}),p.name&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{name:"description",value:m.description,onChange:j,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),(0,a.jsx)("input",{type:"text",name:"sku",value:m.sku,onChange:j,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(p.sku?"border-red-300":"border-gray-300"),placeholder:"Enter SKU"}),p.sku&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.sku})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),(0,a.jsx)("input",{type:"number",name:"stock",value:m.stock,onChange:j,min:"0",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(p.stock?"border-red-300":"border-gray-300"),placeholder:"0"}),p.stock&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.stock})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),(0,a.jsx)("input",{type:"number",name:"price",value:m.price,onChange:j,min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(p.price?"border-red-300":"border-gray-300"),placeholder:"0.00"}),p.price&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.price})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compare at Price"}),(0,a.jsx)("input",{type:"number",name:"compareAtPrice",value:m.compareAtPrice,onChange:j,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,a.jsxs)("select",{name:"categoryId",value:m.categoryId,onChange:j,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(p.categoryId?"border-red-300":"border-gray-300"),children:[(0,a.jsx)("option",{value:"",children:"Select a category"}),c.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),p.categoryId&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.categoryId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{name:"status",value:m.status,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,a.jsx)("input",{type:"text",name:"tags",value:m.tags,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tag1, tag2, tag3"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate tags with commas"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),(0,a.jsx)("input",{type:"number",name:"weight",value:m.weight,onChange:j,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions"}),(0,a.jsx)("input",{type:"text",name:"dimensions",value:m.dimensions,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"L x W x H"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Images"}),(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m.images.length>0&&(0,a.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2",children:m.images.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l(),{src:e,alt:"Product ".concat(t+1),width:80,height:80,className:"w-full h-20 object-cover rounded border"}),(0,a.jsx)("button",{type:"button",onClick:()=>N(t),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:"\xd7"})]},t))})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:g,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",disabled:g,children:g?"Saving...":r?"Update Product":"Create Product"})]})]})]})})})},x=()=>{let[e,t]=(0,s.useState)([]),[r,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(""),[x,p]=(0,s.useState)("all"),[h,g]=(0,s.useState)("all"),[b,y]=(0,s.useState)(1),[f,j]=(0,s.useState)(1),[v,N]=(0,s.useState)([]),[k,w]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null),[P,A]=(0,s.useState)([]),[I,E]=(0,s.useState)("grid"),_=(0,o.useRouter)(),{showSuccess:F,showError:U,showWarning:z}=(0,i.V)();(0,s.useEffect)(()=>{L(),M()},[L,M]);let L=(0,s.useCallback)(async()=>{try{c(!0);let e=new URLSearchParams({page:b,limit:12,search:d,category:x,status:h}),r=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/products?").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw Error("Failed to fetch products");let a=await r.json();t(a.products),j(Math.ceil(a.total/12))}catch(e){console.error("Error fetching products:",e),U("Failed to fetch products. Please try again.")}finally{c(!1)}},[b,12,d,x,h,U]),M=(0,s.useCallback)(async()=>{try{let e=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/categories"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){let t=await e.json();A(t.categories)}}catch(e){console.error("Error fetching categories:",e)}},[]),T=async(e,t)=>{try{if(!(await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/products/").concat(e,"/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}})).ok)throw Error("Failed to ".concat(t," product"));F({activate:"Product activated successfully",deactivate:"Product deactivated successfully",delete:"Product deleted successfully",duplicate:"Product duplicated successfully"}[t]),L()}catch(e){console.error("Error ".concat(t," product:"),e),U("Failed to ".concat(t," product. Please try again."))}},B=async e=>{if(0===v.length){z("Please select products to perform bulk action");return}try{if(!(await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/products/bulk"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({productIds:v,action:e})})).ok)throw Error("Failed to perform bulk ".concat(e));F("Bulk ".concat(e," completed successfully")),N([]),L()}catch(t){console.error("Error performing bulk ".concat(e,":"),t),U("Failed to perform bulk ".concat(e,". Please try again."))}},D=e=>{N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},O=e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800","out-of-stock":"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800"),children:null==e?void 0:e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),q=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),K=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des produits"}),(0,a.jsx)("p",{className:"text-gray-600",children:"G\xe9rez votre inventaire et catalogue Fenkparet"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>_.push("/admin/categories"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"G\xe9rer les cat\xe9gories"}),(0,a.jsx)("button",{onClick:()=>{S(null),w(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Ajouter un nouveau produit"})]})]}),(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)("input",{type:"text",placeholder:"Rechercher des produits par nom ou SKU...",value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"Toutes les cat\xe9gories"}),P.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,a.jsx)("option",{value:"active",children:"Actif"}),(0,a.jsx)("option",{value:"inactive",children:"Inactif"}),(0,a.jsx)("option",{value:"draft",children:"Brouillon"}),(0,a.jsx)("option",{value:"out-of-stock",children:"Rupture de stock"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[(0,a.jsx)("button",{onClick:()=>E("grid"),className:"px-3 py-2 text-sm font-medium ".concat("grid"===I?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),(0,a.jsx)("button",{onClick:()=>E("list"),className:"px-3 py-2 text-sm font-medium ".concat("list"===I?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})})]})}),v.length>0&&(0,a.jsx)(n.Z,{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 dark:bg-blue-900/20 dark:border-blue-900",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-blue-700",children:[v.length," product(s) selected"]}),(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsx)("button",{onClick:()=>B("activate"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Activate"}),(0,a.jsx)("button",{onClick:()=>B("deactivate"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Deactivate"}),(0,a.jsx)("button",{onClick:()=>B("delete"),className:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700",children:"Delete"})]})]})}),"grid"===I?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>{var t,r;return(0,a.jsxs)(n.Z,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg bg-gray-200",children:(0,a.jsx)(l(),{src:(null===(t=e.images)||void 0===t?void 0:t[0])||"/api/placeholder/300/300",alt:e.name,width:300,height:192,className:"h-48 w-full object-cover object-center"})}),(0,a.jsx)("div",{className:"absolute top-2 left-2",children:(0,a.jsx)("input",{type:"checkbox",checked:v.includes(e.id),onChange:()=>D(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:O(e.status)})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["SKU: ",e.sku]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:q(e.price)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Stock: ",e.stock]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Category"}),(0,a.jsx)("p",{className:"text-xs font-medium text-gray-900",children:null===(r=e.category)||void 0===r?void 0:r.name})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{S(e),w(!0)},className:"flex-1 bg-blue-600 text-white text-xs py-2 px-3 rounded hover:bg-blue-700",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>T(e.id,"duplicate"),className:"bg-gray-600 text-white text-xs py-2 px-3 rounded hover:bg-gray-700",children:"Copy"})]})]})]},e.id)})}):(0,a.jsxs)(n.Z,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("input",{type:"checkbox",checked:v.length===e.length&&e.length>0,onChange:()=>{v.length===e.length?N([]):N(e.map(e=>e.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var t,r;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",checked:v.includes(e.id),onChange:()=>D(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)(l(),{className:"h-10 w-10 rounded object-cover",src:(null===(t=e.images)||void 0===t?void 0:t[0])||"/api/placeholder/40/40",alt:e.name,width:40,height:40})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.category)||void 0===r?void 0:r.name)||"Uncategorized"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q(e.price)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:e.stock<10?"text-red-600 font-medium":"",children:e.stock})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:O(e.status)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K(e.createdAt)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("button",{onClick:()=>{S(e),w(!0)},className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>T(e.id,"duplicate"),className:"text-green-600 hover:text-green-900 mr-3",children:"Copy"}),"active"===e.status?(0,a.jsx)("button",{onClick:()=>T(e.id,"deactivate"),className:"text-red-600 hover:text-red-900",children:"Deactivate"}):(0,a.jsx)("button",{onClick:()=>T(e.id,"activate"),className:"text-green-600 hover:text-green-900",children:"Activate"})]})]},e.id)})})]})}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first product."})]})]}),k&&(0,a.jsx)(m,{product:C,categories:P,onClose:()=>w(!1),onSubmit:()=>{w(!1),L()}})]})}}},function(e){e.O(0,[58,888,774,179],function(){return e(e.s=2678)}),_N_E=e.O()}]);