(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{8197:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/analytics",function(){return s(5879)}])},4410:function(e,t,s){"use strict";var a=s(5893);s(7294),t.Z=e=>{let{title:t,children:s,className:r="",headerAction:n,variant:l="default",animated:i=!0}=e;return(0,a.jsxs)("div",{className:"".concat({default:"admin-card",elevated:"admin-card hover:shadow-2xl",outlined:"border-2 border-theme rounded-xl p-6 bg-theme-primary",filled:"bg-accent-light rounded-xl p-6"}[l]," ").concat(i?"admin-fade-in":""," ").concat(r),children:[t&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-theme-primary",children:t}),n&&(0,a.jsx)("div",{className:"flex items-center space-x-2",children:n})]}),(0,a.jsx)("div",{children:s})]})}},8771:function(e,t,s){"use strict";var a=s(5893);s(7294);let r=e=>{let{title:t,chartType:s}=e;return(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:t}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-100 rounded-md",children:(0,a.jsxs)("p",{className:"text-gray-500",children:["A beautiful ",s," chart will be here."]})})]})};t.Z=e=>{let{chartsData:t}=e;return t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r,{title:"Sales Over Time",chartType:"line"}),(0,a.jsx)(r,{title:"Order Status Distribution",chartType:"pie"}),(0,a.jsx)(r,{title:"Top Selling Products",chartType:"bar"})]}):null}},3206:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(567),r=s(5893),n=s(7294),l=s(7702);let i=n.forwardRef(function(e,t){var{title:s,titleId:a}=e,r=(0,l._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))});var c=s(2424);let d=n.forwardRef(function(e,t){var{title:s,titleId:a}=e,r=(0,l._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var o=s(4931),u=s(5892),h=s(2044);let x=e=>{let{title:t,value:s,change:a,changeType:n,icon:l,format:d="number"}=e,o="positive"===n?i:"negative"===n?c.Z:null;return(0,r.jsx)("div",{className:"admin-card admin-fade-in group hover:shadow-xl",children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"stat-card-icon group-hover:scale-110 transition-all duration-300",children:l&&"function"==typeof l?(0,r.jsx)(l,{className:"w-6 h-6"}):(0,r.jsx)("div",{className:"w-6 h-6 flex items-center justify-center text-xl",children:"\uD83D\uDCCA"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-theme-secondary uppercase tracking-wide",children:t}),void 0!==a&&o&&"function"==typeof o&&(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-semibold ".concat("positive"===n?"text-success-color":"text-error-color"),children:[(0,r.jsx)(o,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[Math.abs(a).toFixed(1),"%"]})]})]})]}),(0,r.jsx)("p",{className:"text-3xl font-bold text-theme-primary group-hover:scale-105 transition-transform origin-left",children:(e=>{switch(d){case"currency":return"$".concat(e.toLocaleString());case"percentage":return"".concat(e.toFixed(2),"%");default:return e.toLocaleString()}})(s)})]})})})};var m=e=>{var t,s,n,l,i,c,m,v,g,p,f,j,y,b,w,N,k,_,C,E;let{stats:T}=e;if(!T)return(0,r.jsx)("div",{className:"admin-grid admin-grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"admin-card",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-theme-secondary rounded-xl admin-skeleton"}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)("div",{className:"w-24 h-4 bg-theme-secondary rounded admin-skeleton"}),(0,r.jsx)("div",{className:"w-16 h-8 bg-theme-secondary rounded admin-skeleton"})]})]})},t))});let Z=[{title:"Total Revenue",value:null!==(y=null===(t=T.revenue)||void 0===t?void 0:t.current)&&void 0!==y?y:0,change:null===(s=T.revenue)||void 0===s?void 0:s.change,changeType:null!==(b=null===(n=T.revenue)||void 0===n?void 0:n.changeType)&&void 0!==b?b:"neutral",format:"currency",icon:d},{title:"Total Orders",value:null!==(w=null===(l=T.orders)||void 0===l?void 0:l.current)&&void 0!==w?w:0,change:null===(i=T.orders)||void 0===i?void 0:i.change,changeType:null!==(N=null===(c=T.orders)||void 0===c?void 0:c.changeType)&&void 0!==N?N:"neutral",icon:o.Z},{title:"New Customers",value:null!==(k=null===(m=T.customers)||void 0===m?void 0:m.current)&&void 0!==k?k:0,change:null===(v=T.customers)||void 0===v?void 0:v.change,changeType:null!==(_=null===(g=T.customers)||void 0===g?void 0:g.changeType)&&void 0!==_?_:"neutral",icon:u.Z},{title:"Conversion Rate",value:null!==(C=null===(p=T.conversionRate)||void 0===p?void 0:p.current)&&void 0!==C?C:0,change:null===(f=T.conversionRate)||void 0===f?void 0:f.change,changeType:null!==(E=null===(j=T.conversionRate)||void 0===j?void 0:j.changeType)&&void 0!==E?E:"neutral",format:"percentage",icon:h.Z}];return(0,r.jsx)("div",{className:"admin-grid admin-grid-cols-4",children:Z.map((e,t)=>(0,r.jsx)("div",{className:"admin-scale-in",style:{animationDelay:"".concat(.1*t,"s")},children:(0,r.jsx)(x,(0,a._)({},e))},t))})}},5879:function(e,t,s){"use strict";s.r(t);var a=s(567),r=s(4932),n=s(5893),l=s(7294),i=s(1163),c=s(4410),d=s(3206),o=s(8771);t.default=()=>{let e=(0,i.useRouter)(),[t,s]=(0,l.useState)({overview:null,charts:null,loading:!0}),[u,h]=(0,l.useState)("30d");(0,l.useEffect)(()=>{x()},[x]);let x=(0,l.useCallback)(async()=>{try{s(e=>(0,r._)((0,a._)({},e),{loading:!0}));let e=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/analytics?period=").concat(u),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw Error("Failed to fetch analytics");let t=await e.json();s({overview:t.overview,charts:t.charts,loading:!1})}catch(e){console.error("Error fetching analytics:",e),s(e=>(0,r._)((0,a._)({},e),{loading:!1}))}},[u]);return t.loading?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"analytics_dashboard"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"business_insights_metrics"})]}),(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,n.jsx)("option",{value:"7d",children:"last_7_days"}),(0,n.jsx)("option",{value:"30d",children:"last_30_days"}),(0,n.jsx)("option",{value:"90d",children:"last_90_days"}),(0,n.jsx)("option",{value:"1y",children:"last_year"})]}),(0,n.jsx)("button",{onClick:()=>e.push("/admin/sales-analytics"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"detailed_sales_report"})]})]}),(0,n.jsx)(d.Z,{stats:t.overview}),(0,n.jsx)(o.Z,{chartsData:t}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)(c.Z,{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"conversion_rates"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"product_page_views"}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"3.2%"})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:(0,n.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"32%"}})})]})]}),(0,n.jsxs)(c.Z,{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"customer_insights"}),(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"avg_session_duration"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"compared_to_last_month"})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"4m 32s"}),(0,n.jsx)("p",{className:"text-xs text-green-600",children:"+12%"})]})]})})]})]}),(0,n.jsxs)(c.Z,{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"export_analytics"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,n.jsxs)("button",{onClick:()=>window.open("".concat("https://fenkparet-backend.onrender.com","/api/admin/analytics/export?format=pdf"),"_blank"),className:"flex items-center justify-center px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"export_pdf"]}),(0,n.jsxs)("button",{onClick:()=>e.push("/admin/sales-analytics"),className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"advanced_analytics"]})]})]})]})}},2424:function(e,t,s){"use strict";var a=s(7702),r=s(7294);let n=r.forwardRef(function(e,t){var{title:s,titleId:n}=e,l=(0,a._)(e,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))});t.Z=n}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8197)}),_N_E=e.O()}]);