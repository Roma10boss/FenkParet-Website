(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{8197:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/analytics",function(){return t(5879)}])},4410:function(e,s,t){"use strict";var a=t(5893);t(7294),s.Z=e=>{let{title:s,children:t,className:r="",headerAction:n,variant:i="default",animated:l=!0}=e;return(0,a.jsxs)("div",{className:"".concat({default:"admin-card",elevated:"admin-card hover:shadow-2xl",outlined:"border-2 border-theme rounded-xl p-6 bg-theme-primary",filled:"bg-accent-light rounded-xl p-6"}[i]," ").concat(l?"admin-fade-in":""," ").concat(r),children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-theme-primary",children:s}),n&&(0,a.jsx)("div",{className:"flex items-center space-x-2",children:n})]}),(0,a.jsx)("div",{children:t})]})}},8771:function(e,s,t){"use strict";var a=t(5893);t(7294);let r=e=>{let{title:s,chartType:t}=e;return(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:s}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-100 rounded-md",children:(0,a.jsxs)("p",{className:"text-gray-500",children:["A beautiful ",t," chart will be here."]})})]})};s.Z=e=>{let{chartsData:s}=e;return s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r,{title:"Sales Over Time",chartType:"line"}),(0,a.jsx)(r,{title:"Order Status Distribution",chartType:"pie"}),(0,a.jsx)(r,{title:"Top Selling Products",chartType:"bar"})]}):null}},8455:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var a={};t.r(a);var r=t(567),n=t(5893),i=t(7294),l=t(7702);let c=i.forwardRef(function(e,s){var{title:t,titleId:a}=e,r=(0,l._)(e,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),t?i.createElement("title",{id:a},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var d=t(4931),o=t(5892),x=t(2044);let h=e=>{let{title:s,value:t,change:r,changeType:i,icon:l,format:c="number"}=e,d="positive"===i?a.TrendingUpIcon:"negative"===i?a.TrendingDownIcon:null;return(0,n.jsx)("div",{className:"admin-card admin-fade-in group hover:shadow-xl",children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,n.jsx)("div",{className:"stat-card-icon group-hover:scale-110 transition-all duration-300",children:l&&"function"==typeof l?(0,n.jsx)(l,{className:"w-6 h-6"}):(0,n.jsx)("div",{className:"w-6 h-6 flex items-center justify-center text-xl",children:"\uD83D\uDCCA"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-theme-secondary uppercase tracking-wide",children:s}),void 0!==r&&d&&"function"==typeof d&&(0,n.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-semibold ".concat("positive"===i?"text-success-color":"text-error-color"),children:[(0,n.jsx)(d,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[Math.abs(r).toFixed(1),"%"]})]})]})]}),(0,n.jsx)("p",{className:"text-3xl font-bold text-theme-primary group-hover:scale-105 transition-transform origin-left",children:(e=>{switch(c){case"currency":return"$".concat(e.toLocaleString());case"percentage":return"".concat(e.toFixed(2),"%");default:return e.toLocaleString()}})(t)})]})})})};var u=e=>{var s,t,a,i,l,u,m,v,g,p,j,f,y,b,N,w,k,_,T,C;let{stats:Z}=e;if(!Z)return(0,n.jsx)("div",{className:"admin-grid admin-grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,n.jsx)("div",{className:"admin-card",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-theme-secondary rounded-xl admin-skeleton"}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("div",{className:"w-24 h-4 bg-theme-secondary rounded admin-skeleton"}),(0,n.jsx)("div",{className:"w-16 h-8 bg-theme-secondary rounded admin-skeleton"})]})]})},s))});let E=[{title:"Total Revenue",value:null!==(y=null===(s=Z.revenue)||void 0===s?void 0:s.current)&&void 0!==y?y:0,change:null===(t=Z.revenue)||void 0===t?void 0:t.change,changeType:null!==(b=null===(a=Z.revenue)||void 0===a?void 0:a.changeType)&&void 0!==b?b:"neutral",format:"currency",icon:c},{title:"Total Orders",value:null!==(N=null===(i=Z.orders)||void 0===i?void 0:i.current)&&void 0!==N?N:0,change:null===(l=Z.orders)||void 0===l?void 0:l.change,changeType:null!==(w=null===(u=Z.orders)||void 0===u?void 0:u.changeType)&&void 0!==w?w:"neutral",icon:d.Z},{title:"New Customers",value:null!==(k=null===(m=Z.customers)||void 0===m?void 0:m.current)&&void 0!==k?k:0,change:null===(v=Z.customers)||void 0===v?void 0:v.change,changeType:null!==(_=null===(g=Z.customers)||void 0===g?void 0:g.changeType)&&void 0!==_?_:"neutral",icon:o.Z},{title:"Conversion Rate",value:null!==(T=null===(p=Z.conversionRate)||void 0===p?void 0:p.current)&&void 0!==T?T:0,change:null===(j=Z.conversionRate)||void 0===j?void 0:j.change,changeType:null!==(C=null===(f=Z.conversionRate)||void 0===f?void 0:f.changeType)&&void 0!==C?C:"neutral",format:"percentage",icon:x.Z}];return(0,n.jsx)("div",{className:"admin-grid admin-grid-cols-4",children:E.map((e,s)=>(0,n.jsx)("div",{className:"admin-scale-in",style:{animationDelay:"".concat(.1*s,"s")},children:(0,n.jsx)(h,(0,r._)({},e))},s))})}},5879:function(e,s,t){"use strict";t.r(s);var a=t(567),r=t(4932),n=t(5893),i=t(7294),l=t(1163),c=t(4410),d=t(8455),o=t(8771);s.default=()=>{let e=(0,l.useRouter)(),[s,t]=(0,i.useState)({overview:null,charts:null,loading:!0}),[x,h]=(0,i.useState)("30d");(0,i.useEffect)(()=>{u()},[u]);let u=(0,i.useCallback)(async()=>{try{t(e=>(0,r._)((0,a._)({},e),{loading:!0}));let e=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/analytics?period=").concat(x),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw Error("Failed to fetch analytics");let s=await e.json();t({overview:s.overview,charts:s.charts,loading:!1})}catch(e){console.error("Error fetching analytics:",e),t(e=>(0,r._)((0,a._)({},e),{loading:!1}))}},[x]);return s.loading?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"analytics_dashboard"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"business_insights_metrics"})]}),(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,n.jsx)("option",{value:"7d",children:"last_7_days"}),(0,n.jsx)("option",{value:"30d",children:"last_30_days"}),(0,n.jsx)("option",{value:"90d",children:"last_90_days"}),(0,n.jsx)("option",{value:"1y",children:"last_year"})]}),(0,n.jsx)("button",{onClick:()=>e.push("/admin/sales-analytics"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"detailed_sales_report"})]})]}),(0,n.jsx)(d.Z,{stats:s.overview}),(0,n.jsx)(o.Z,{chartsData:s}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)(c.Z,{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"conversion_rates"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"product_page_views"}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"3.2%"})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:(0,n.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"32%"}})})]})]}),(0,n.jsxs)(c.Z,{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"customer_insights"}),(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"avg_session_duration"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"compared_to_last_month"})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"4m 32s"}),(0,n.jsx)("p",{className:"text-xs text-green-600",children:"+12%"})]})]})})]})]}),(0,n.jsxs)(c.Z,{className:"p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"export_analytics"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,n.jsxs)("button",{onClick:()=>window.open("".concat("https://fenkparet-backend.onrender.com","/api/admin/analytics/export?format=pdf"),"_blank"),className:"flex items-center justify-center px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"export_pdf"]}),(0,n.jsxs)("button",{onClick:()=>e.push("/admin/sales-analytics"),className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"advanced_analytics"]})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8197)}),_N_E=e.O()}]);