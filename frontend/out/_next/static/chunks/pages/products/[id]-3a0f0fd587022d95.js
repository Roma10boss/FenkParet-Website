(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{8693:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return a(817)}])},2421:function(e,t,a){"use strict";var r=a(567),s=a(4932),n=a(5893),i=a(9008),c=a.n(i),o=a(1163);t.Z=e=>{var t,a,i,l,d,m;let{title:x,description:p,keywords:u=[],image:g,article:h=!1,product:y=null,noindex:v=!1,canonical:b}=e,j=(0,o.useRouter)(),k="https://fenparet-website.web.app",f=b||"".concat(k).concat(j.asPath),N=x?"".concat(x," | Fenkparet"):"Fenkparet - Produits Ha\xeftiens de Qualit\xe9 | T-Shirts, Mugs, Accessoires",w=p||"D\xe9couvrez notre collection de produits ha\xeftiens authentiques. T-shirts personnalis\xe9s, mugs, accessoires et bien plus. Paiement s\xe9curis\xe9 avec MonCash.",_=g||"".concat(k,"/images/og-image.jpg"),S=["Ha\xefti","produits ha\xeftiens","MonCash","e-commerce","t-shirts","mugs","accessoires","Fenkparet",...u].join(", "),C=y?(0,s._)((0,r._)({"@context":"https://schema.org/","@type":"Product",name:y.name,description:y.description||y.shortDescription,image:(null===(t=y.images)||void 0===t?void 0:t.map(e=>"".concat(k).concat(e.url)))||[_],brand:{"@type":"Brand",name:"Fenkparet"},offers:{"@type":"Offer",price:y.price,priceCurrency:"HTG",availability:(null===(a=y.inventory)||void 0===a?void 0:a.stockStatus)==="in-stock"?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:"Fenkparet"}}},(null===(i=y.ratings)||void 0===i?void 0:i.count)>0&&{aggregateRating:{"@type":"AggregateRating",ratingValue:y.ratings.average,reviewCount:y.ratings.count}}),{category:null===(l=y.category)||void 0===l?void 0:l.name,sku:y.sku}):null;return(0,n.jsxs)(c(),{children:[(0,n.jsx)("title",{children:N}),(0,n.jsx)("meta",{name:"description",content:w}),(0,n.jsx)("meta",{name:"keywords",content:S}),(0,n.jsx)("link",{rel:"canonical",href:f}),v&&(0,n.jsx)("meta",{name:"robots",content:"noindex,nofollow"}),(0,n.jsx)("meta",{property:"og:type",content:h?"article":y?"product":"website"}),(0,n.jsx)("meta",{property:"og:title",content:N}),(0,n.jsx)("meta",{property:"og:description",content:w}),(0,n.jsx)("meta",{property:"og:image",content:_}),(0,n.jsx)("meta",{property:"og:url",content:f}),(0,n.jsx)("meta",{property:"og:site_name",content:"Fenkparet"}),(0,n.jsx)("meta",{property:"og:locale",content:"fr_HT"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{name:"twitter:title",content:N}),(0,n.jsx)("meta",{name:"twitter:description",content:w}),(0,n.jsx)("meta",{name:"twitter:image",content:_}),y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{property:"product:price:amount",content:y.price}),(0,n.jsx)("meta",{property:"product:price:currency",content:"HTG"}),(0,n.jsx)("meta",{property:"product:availability",content:(null===(d=y.inventory)||void 0===d?void 0:d.stockStatus)==="in-stock"?"instock":"oos"}),(0,n.jsx)("meta",{property:"product:brand",content:"Fenkparet"}),(0,n.jsx)("meta",{property:"product:category",content:null===(m=y.category)||void 0===m?void 0:m.name})]}),(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:"Fenkparet",url:k,logo:"".concat(k,"/logo.png"),description:"E-commerce de produits ha\xeftiens authentiques avec paiement MonCash",contactPoint:{"@type":"ContactPoint",telephone:"+509-XXXX-XXXX",contactType:"customer service",availableLanguage:["French","Creole"]},sameAs:["https://facebook.com/fenkparet","https://instagram.com/fenkparet"]})}}),C&&(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(C)}})]})}},3231:function(){},817:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return N},default:function(){return w}});var r=a(5893),s=a(7294),n=a(1163);next;var i=a(7066),c=a(3045),o=a(2421),l=a(3231),d=a.n(l),m=a(567),x=a(4932),p=a(5675),u=a.n(p),g=a(2490),h=a(927),y=a(7468),v=a(9617),b=a(1628),j=a(6501),k=e=>{let{productId:t}=e,{user:a,isAuthenticated:n}=(0,g.a)(),[c,o]=(0,s.useState)([]),[l,d]=(0,s.useState)(null),[p,k]=(0,s.useState)(!0),[f,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[S,C]=(0,s.useState)({rating:5,title:"",comment:"",orderId:null}),[A,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{P(),n&&L()},[t,n,P,L]);let P=(0,s.useCallback)(async()=>{try{let e=await i.Z.get("".concat("https://fenkparet-backend.onrender.com","/api/reviews/product/").concat(t));o(e.data.reviews),d(e.data.stats)}catch(e){console.error("Error fetching reviews:",e)}finally{k(!1)}},[t]),L=(0,s.useCallback)(async()=>{try{let e=localStorage.getItem("token"),a=await i.Z.get("".concat("https://fenkparet-backend.onrender.com","/api/reviews/can-review/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});N(a.data.canReview),a.data.canReview&&C(e=>(0,x._)((0,m._)({},e),{orderId:a.data.orderId}))}catch(e){console.error("Error checking review eligibility:",e)}},[t]),Z=async()=>{try{I(!0);let e=localStorage.getItem("token"),a={productId:t,orderId:S.orderId,rating:S.rating,title:S.title,comment:S.comment};await i.Z.post("".concat("https://fenkparet-backend.onrender.com","/api/reviews"),a,{headers:{Authorization:"Bearer ".concat(e)}}),j.Am.success("Avis soumis avec succ\xe8s!"),_(!1),C({rating:5,title:"",comment:"",orderId:null}),N(!1),P()}catch(t){var e,a;j.Am.error((null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Erreur lors de la soumission de l'avis")}finally{I(!1)}},F=async(e,t)=>{try{let a=localStorage.getItem("token");await i.Z.post("".concat("https://fenkparet-backend.onrender.com","/api/reviews/").concat(e,"/vote"),{vote:t},{headers:{Authorization:"Bearer ".concat(a)}}),o(a=>a.map(a=>a._id===e?(0,x._)((0,m._)({},a),{helpful:(0,x._)((0,m._)({},a.helpful),{[t]:a.helpful[t]+1})}):a)),j.Am.success("Vote enregistr\xe9!")}catch(e){j.Am.error("Erreur lors du vote")}},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>(0,r.jsx)("button",{type:"button",disabled:!t,onClick:()=>t&&a&&a(s),className:"".concat(t?"cursor-pointer hover:scale-110":"cursor-default"," transition-transform"),children:s<=e?(0,r.jsx)(b.Z,{className:"h-5 w-5 text-yellow-400"}):(0,r.jsx)(h.Z,{className:"h-5 w-5 text-gray-300"})},s))})};return p?(0,r.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,r.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[l&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Avis clients"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:l.averageRating.toFixed(1)}),(0,r.jsx)("div",{className:"flex justify-center my-2",children:E(Math.round(l.averageRating))}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Bas\xe9 sur ",l.totalReviews," avis"]})]}),(0,r.jsx)("div",{children:l?(0,r.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>{let t=l.ratingDistribution[e]||0,a=l.totalReviews>0?t/l.totalReviews*100:0;return(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("span",{className:"w-3 text-gray-600",children:e}),(0,r.jsx)(b.Z,{className:"h-4 w-4 text-yellow-400 ml-1 mr-2"}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mr-2",children:(0,r.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:"".concat(a,"%")}})}),(0,r.jsx)("span",{className:"w-8 text-right text-gray-600",children:t})]},e)})}):null})]})]}),n&&f&&!w&&(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,r.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:"Vous avez achet\xe9 ce produit. Partagez votre exp\xe9rience!"}),(0,r.jsx)("button",{onClick:()=>_(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\xc9crire un avis"})]}),w&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"\xc9crire un avis"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Note"}),E(S.rating,!0,e=>C(t=>(0,x._)((0,m._)({},t),{rating:e})))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Titre de votre avis"}),(0,r.jsx)("input",{type:"text",value:S.title,onChange:e=>C(t=>(0,x._)((0,m._)({},t),{title:e.target.value})),placeholder:"R\xe9sumez votre exp\xe9rience",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",maxLength:100})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Votre avis"}),(0,r.jsx)("textarea",{value:S.comment,onChange:e=>C(t=>(0,x._)((0,m._)({},t),{comment:e.target.value})),placeholder:"D\xe9crivez votre exp\xe9rience avec ce produit",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",maxLength:1e3}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[S.comment.length,"/1000 caract\xe8res"]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:Z,disabled:A||!S.title.trim()||!S.comment.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors",children:A?"Envoi...":"Publier l'avis"}),(0,r.jsx)("button",{onClick:()=>_(!1),className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Annuler"})]})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:c.length>0?c.map(e=>{var t,a,s;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[E(e.rating),e.verified&&(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Achat v\xe9rifi\xe9"})]}),(0,r.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Par ",null===(t=e.user)||void 0===t?void 0:t.name," â€¢ ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]})}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:e.comment}),e.images&&e.images.length>0&&(0,r.jsx)("div",{className:"flex space-x-2 mb-4",children:e.images.map((e,t)=>(0,r.jsx)(u(),{src:e.url,alt:e.alt,className:"w-16 h-16 object-cover rounded-lg",width:64,height:64},t))}),e.response&&(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mt-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"R\xe9ponse de Fenkparet"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.response.text}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:new Date(e.response.respondedAt).toLocaleDateString("fr-FR")})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cet avis vous a-t-il \xe9t\xe9 utile?"}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>F(e._id,"yes"),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-green-600",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:(null===(a=e.helpful)||void 0===a?void 0:a.yes)||0})]}),(0,r.jsxs)("button",{onClick:()=>F(e._id,"no"),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-red-600",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:(null===(s=e.helpful)||void 0===s?void 0:s.no)||0})]})]})]})]},e._id)}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun avis pour ce produit pour le moment."})})})]})},f=a(2088),N=!0,w=e=>{var t,a,l,m,x;let{product:p,error:u}=e,g=(0,n.useRouter)(),[h,y]=(0,s.useState)(p),[v,b]=(0,s.useState)(!p&&!u);(0,s.useEffect)(()=>{p||u||j()},[g.query.id]);let j=async()=>{try{b(!0);let e=await i.Z.get("".concat("https://fenkparet-backend.onrender.com","/api/products/").concat(g.query.id));y(e.data.product)}catch(e){console.error("Error fetching product:",e)}finally{b(!1)}};if(v)return(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,r.jsx)(f.Z,{})})});if(u||!h)return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(o.Z,{title:"Produit non trouv\xe9",description:"Le produit demand\xe9 n'existe pas ou n'est plus disponible.",noindex:!0}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Produit non trouv\xe9"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Le produit que vous recherchez n'existe pas ou n'est plus disponible."}),(0,r.jsx)("button",{onClick:()=>g.push("/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Voir tous les produits"})]})})]});let N="".concat(h.name," - ").concat((null===(t=h.category)||void 0===t?void 0:t.name)||"Produits"),w=h.shortDescription||(null===(a=h.description)||void 0===a?void 0:a.substring(0,160))||"D\xe9couvrez ".concat(h.name," sur Fenkparet. Prix: ").concat(h.price," HTG. ").concat((null===(l=h.category)||void 0===l?void 0:l.name)?"Cat\xe9gorie: ".concat(h.category.name,"."):""," Livraison en Ha\xefti."),_=(null===(m=h.images)||void 0===m?void 0:m.length)>0?"".concat("https://fenparet-website.web.app").concat(h.images[0].url):null,S={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Accueil",item:"https://fenparet-website.web.app"},{"@type":"ListItem",position:2,name:"Produits",item:"".concat("https://fenparet-website.web.app","/products")},...h.category?[{"@type":"ListItem",position:3,name:h.category.name,item:"".concat("https://fenparet-website.web.app","/products/category/").concat(h.category.slug)}]:[],{"@type":"ListItem",position:h.category?4:3,name:h.name,item:"".concat("https://fenparet-website.web.app","/products/").concat(h._id)}]};return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(o.Z,{title:N,description:w,keywords:[h.name,null===(x=h.category)||void 0===x?void 0:x.name,...h.tags||[],"produit ha\xeftien","MonCash","livraison Ha\xefti"],image:_,product:h}),(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(S)}}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:(0,r.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,r.jsx)("li",{className:"inline-flex items-center",children:(0,r.jsx)("button",{onClick:()=>g.push("/"),className:"text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white",children:"Accueil"})}),(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mx-2 text-gray-400",children:"/"}),(0,r.jsx)("button",{onClick:()=>g.push("/products"),className:"text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white",children:"Produits"})]})}),h.category&&(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mx-2 text-gray-400",children:"/"}),(0,r.jsx)("button",{onClick:()=>g.push("/products/category/".concat(h.category.slug)),className:"text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white",children:h.category.name})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mx-2 text-gray-400",children:"/"}),(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:h.name})]})})]})}),(0,r.jsx)(d(),{product:h}),(0,r.jsx)("div",{className:"mt-12",children:(0,r.jsx)(k,{productId:h._id})})]})]})}}},function(e){e.O(0,[216,888,179],function(){return e(e.s=8693)}),_N_E=e.O()}]);