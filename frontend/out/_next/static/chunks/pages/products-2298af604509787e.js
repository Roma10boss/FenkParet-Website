(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7638:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return t(4240)}])},4240:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return k}});var a=t(567),s=t(5893),l=t(7294),c=t(9008),i=t.n(c),n=t(5675),d=t.n(n);t(1664);var o=t(1557),x=t(6501),g=e=>{let{product:r}=e,{addToCart:t}=(0,o.j)(),a=e=>"NEW"===e?"NOUVEAU":"FEATURED"===e?"EN VEDETTE":"LOW_STOCK"===e?"Stock faible":"";return(0,s.jsxs)("div",{className:"product-card bg-gray-800 text-gray-100 rounded-lg overflow-hidden shadow-lg",children:[r.image&&(0,s.jsxs)("div",{className:"relative h-48 w-full bg-gray-700 flex items-center justify-center",children:[(0,s.jsx)(d(),{src:r.image,alt:r.name,layout:"fill",objectFit:"cover",className:"rounded-t-lg"}),(r.discount||r.status)&&(0,s.jsxs)("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:[r.discount&&(0,s.jsxs)("span",{className:"bg-red-600 text-white text-xs font-semibold px-2 py-1 rounded-full",children:["-",r.discount,"%"]}),r.status&&a(r.status)&&(0,s.jsx)("span",{className:"bg-blue-600 text-white text-xs font-semibold px-2 py-1 rounded-full",children:a(r.status)}),r.lowStock&&r.stock<=10&&(0,s.jsx)("span",{className:"bg-yellow-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:"low_stock"})]})]}),!r.image&&(0,s.jsxs)("div",{className:"h-48 w-full bg-gray-700 flex items-center justify-center text-gray-400",children:[(0,s.jsx)("span",{className:"text-6xl",children:"\uD83D\uDED2"})," "]}),(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:r.name}),(0,s.jsxs)("p",{className:"text-lg font-bold text-green-400 mb-2",children:[r.price," HTG",r.oldPrice&&(0,s.jsxs)("span",{className:"text-sm text-gray-400 line-through ml-2",children:[r.oldPrice," HTG"]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-400 mb-4",children:[(0,s.jsx)("span",{children:"⭐"}),(0,s.jsx)("span",{children:"⭐"}),(0,s.jsx)("span",{children:"⭐"}),(0,s.jsx)("span",{children:"⭐"}),(0,s.jsx)("span",{children:"☆"})," (",r.reviews," avis)"]}),(0,s.jsxs)("button",{onClick:()=>{try{var e,a;t({id:r._id||r.id,name:r.name,price:r.price,image:(null===(a=r.images)||void 0===a?void 0:null===(e=a[0])||void 0===e?void 0:e.url)||r.image,quantity:1}),x.Am.success("".concat(r.name," ajout\xe9 au panier"))}catch(e){x.Am.error("Erreur lors de l'ajout au panier")}},className:"mt-auto btn btn-primary flex items-center justify-center space-x-2 hover:bg-blue-600 transition-colors",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.5 13 5.6 13h9.4a1 1 0 000-2H5.6l.5-1-.91-6.54c-.06-.44-.39-.79-.84-.86L3 3H1a1 1 0 000 2h1zM8 14a2 2 0 100 4 2 2 0 000-4zm-2 2a2 2 114 0 2 2 0 01-4 0zm13-2a2 2 0 100 4 2 2 0 000-4zm-2 2a2 2 114 0 2 2 0 01-4 0z"})}),(0,s.jsx)("span",{children:"Ajouter au panier"})]})]})]})},u=e=>{let{products:r}=e;return r&&0!==r.length?(0,s.jsx)("div",{className:"product-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:r.map(e=>(0,s.jsx)(g,{product:e},e._id||e.id))}):(0,s.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:"No products found."})};t(4932);var m=t(7702);let h=l.forwardRef(function(e,r){var{title:t,titleId:a}=e,s=(0,m._)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},s),t?l.createElement("title",{id:a},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});var p=t(2294),y=t(1594),b=t(7066),f=e=>{let{filters:r,onFilterChange:t,onClearAll:a}=e,[c,i]=(0,l.useState)([]),[n,d]=(0,l.useState)({min:"",max:""}),[o,x]=(0,l.useState)(!1),[g,u]=(0,l.useState)(!0);(0,l.useEffect)(()=>{m()},[]),(0,l.useEffect)(()=>{d({min:r.minPrice||"",max:r.maxPrice||""})},[r.minPrice,r.maxPrice]);let m=async()=>{try{let e=await b.Z.get("".concat("https://fenkparet-backend.onrender.com","/api/admin/categories"));i(e.data.categories||[])}catch(e){console.error("Error fetching categories:",e),i([{_id:"t-shirts",name:"T-Shirts",slug:"t-shirts"},{_id:"mugs",name:"Mugs",slug:"mugs"},{_id:"keychains",name:"Keychains",slug:"keychains"},{_id:"phone-cases",name:"Phone Cases",slug:"phone-cases"},{_id:"hoodies",name:"Hoodies",slug:"hoodies"}])}finally{u(!1)}},f=(e,r)=>{t({[e]:r})};return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"lg:hidden",children:(0,s.jsxs)("button",{onClick:()=>x(!o),className:"w-full flex items-center justify-between p-4 text-left",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h,{className:"h-5 w-5 text-gray-500 mr-2"}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Filtres"}),(r.category||r.minPrice||r.maxPrice||r.search)&&(0,s.jsx)("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Actifs"})]}),(0,s.jsx)(p.Z,{className:"h-5 w-5 text-gray-500 transition-transform ".concat(o?"rotate-180":"")})]})}),(0,s.jsxs)("div",{className:"".concat(o?"block":"hidden"," lg:block p-4 space-y-6"),children:[(r.category||r.minPrice||r.maxPrice||r.search)&&(0,s.jsxs)("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filtres actifs"}),(0,s.jsxs)("button",{onClick:()=>{d({min:"",max:""}),t({category:"",minPrice:"",maxPrice:"",search:""}),a&&a()},className:"flex items-center text-sm text-red-600 hover:text-red-700",children:[(0,s.jsx)(y.Z,{className:"h-4 w-4 mr-1"}),"Tout effacer"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recherche"}),(0,s.jsx)("input",{type:"text",value:r.search||"",onChange:e=>f("search",e.target.value),placeholder:"Rechercher des produits...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cat\xe9gorie"}),(0,s.jsxs)("select",{value:r.category||"",onChange:e=>f("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Toutes les cat\xe9gories"}),c.map(e=>(0,s.jsx)("option",{value:e._id||e.id,children:e.name},e._id||e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gamme de prix"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"number",value:r.minPrice||"",onChange:e=>f("minPrice",e.target.value),placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"number",value:r.maxPrice||"",onChange:e=>f("maxPrice",e.target.value),placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,s.jsx)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Prix en HTG"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Filtres rapides"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("button",{onClick:()=>f("featured",!r.featured),className:"w-full text-left px-3 py-2 rounded-md text-sm transition-colors ".concat(r.featured?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"Produits vedettes"}),(0,s.jsx)("button",{onClick:()=>f("newArrivals",!r.newArrivals),className:"w-full text-left px-3 py-2 rounded-md text-sm transition-colors ".concat(r.newArrivals?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"Nouveaut\xe9s"}),(0,s.jsx)("button",{onClick:()=>f("onSale",!r.onSale),className:"w-full text-left px-3 py-2 rounded-md text-sm transition-colors ".concat(r.onSale?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"En promotion"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Disponibilit\xe9"}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:!1!==r.inStock,onChange:e=>f("inStock",!!e.target.checked&&void 0),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"En stock"})]})})]})]})]})},j=t(2088),k=()=>{let[e,r]=(0,l.useState)([]),[t,c]=(0,l.useState)(!0),[n,d]=(0,l.useState)(null),[o,x]=(0,l.useState)({category:"",minPrice:"",maxPrice:"",search:"",sortBy:"name",sortOrder:"asc"});(0,l.useEffect)(()=>{g()},[o,g]);let g=(0,l.useCallback)(async()=>{try{c(!0),d(null);let e=new URLSearchParams;Object.entries(o).forEach(r=>{let[t,a]=r;a&&""!==a&&e.append(t,a)});let t=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/products?").concat(e),{headers:{"Content-Type":"application/json"},mode:"cors"});if(!t.ok)throw Error("Failed to fetch products");let a=await t.json();r(a.products||[])}catch(e){console.error("Error fetching products:",e),d(e.message),r([{_id:"1",name:"Premium T-Shirt",price:250,comparePrice:300,images:[{url:"https://placehold.co/400x300/e8f2e8/1f2937?text=T-Shirt",alt:"Premium T-Shirt"}],inventory:{stockStatus:"in-stock"},category:{name:"T-Shirts",slug:"t-shirts"},featured:!0},{_id:"2",name:"Coffee Mug",price:150,images:[{url:"https://placehold.co/400x300/f0f7f0/1f2937?text=Coffee+Mug",alt:"Coffee Mug"}],inventory:{stockStatus:"in-stock"},category:{name:"Mugs",slug:"mugs"}}])}finally{c(!1)}},[o]),m=e=>{x(r=>(0,a._)({},r,e))};return t?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(j.Z,{})}):n?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erreur"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:n}),(0,s.jsx)("button",{onClick:g,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"R\xe9essayer"})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsxs)("title",{children:["Produits - ","Fenkparet"]}),(0,s.jsx)("meta",{name:"description",content:"Parcourez notre collection compl\xe8te de produits"})]}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)("div",{className:"lg:w-1/4",children:(0,s.jsx)(f,{filters:o,onFilterChange:m})}),(0,s.jsxs)("div",{className:"lg:w-3/4",children:[(0,s.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[e.length," produits trouv\xe9s"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trier par:"}),(0,s.jsxs)("select",{value:"".concat(o.sortBy,"-").concat(o.sortOrder),onChange:e=>{let[r,t]=e.target.value.split("-");m({sortBy:r,sortOrder:t})},className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[(0,s.jsx)("option",{value:"name-asc",children:"Nom A-Z"}),(0,s.jsx)("option",{value:"name-desc",children:"Nom Z-A"}),(0,s.jsx)("option",{value:"price-asc",children:"Prix croissant"}),(0,s.jsx)("option",{value:"price-desc",children:"Prix d\xe9croissant"}),(0,s.jsx)("option",{value:"createdAt-desc",children:"Plus r\xe9cents"})]})]})]}),(0,s.jsx)(u,{products:e}),0===e.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDECD️"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun produit trouv\xe9"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Essayez d'ajuster vos filtres ou termes de recherche"}),(0,s.jsx)("button",{onClick:()=>x({category:"",minPrice:"",maxPrice:"",search:"",sortBy:"name",sortOrder:"asc"}),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Effacer les filtres"})]})]})]})})]})}}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=7638)}),_N_E=e.O()}]);