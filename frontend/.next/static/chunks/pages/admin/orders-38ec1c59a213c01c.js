(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{6376:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/orders",function(){return s(1992)}])},1992:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(567),a=s(4932),l=s(5893),n=s(7294),d=s(5675),i=s.n(d),c=s(1163),o=s(2809),x=s(9761),m=s(4410),u=e=>{var t,s,r,a,d,c,o,u,h,p,g,y,j,v,b,f,N;let{order:w,onClose:k,onStatusUpdate:S}=e,[C,A]=(0,n.useState)(w.status),{showSuccess:L,showError:P}=(0,x.V)();(0,n.useEffect)(()=>{A(w.status)},[w.status]);let E=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),O=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=async e=>{let t=e.target.value;A(t);try{await new Promise(e=>setTimeout(e,500)),S(w.id,t),L("Order ".concat(w.orderNumber," status updated to ").concat(t))}catch(e){P("Failed to update order status: ".concat(e.message)),A(w.status)}};return(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white max-h-[80vh] overflow-y-auto",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Order Details - #",w.orderNumber]}),(0,l.jsx)("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,l.jsx)(m.Z,{title:"Order Items",children:(0,l.jsx)("div",{className:"space-y-4",children:null===(t=w.items)||void 0===t?void 0:t.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center space-x-4 bg-white p-3 rounded border",children:[(0,l.jsx)(i(),{src:e.product.image||"/api/placeholder/60/60",alt:e.product.name,width:60,height:60,className:"w-15 h-15 object-cover rounded"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:e.product.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["SKU: ",e.product.sku]}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Qty: ",e.quantity]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:E(e.price)}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"each"})]})]},t))})}),(0,l.jsx)(m.Z,{title:"Shipping Address",children:(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,l.jsx)("p",{className:"font-medium",children:null===(s=w.shippingAddress)||void 0===s?void 0:s.name}),(0,l.jsx)("p",{children:null===(r=w.shippingAddress)||void 0===r?void 0:r.street}),(0,l.jsxs)("p",{children:[null===(a=w.shippingAddress)||void 0===a?void 0:a.city,", ",null===(d=w.shippingAddress)||void 0===d?void 0:d.state," ",null===(c=w.shippingAddress)||void 0===c?void 0:c.zipCode]}),(0,l.jsx)("p",{children:null===(o=w.shippingAddress)||void 0===o?void 0:o.country}),(null===(u=w.shippingAddress)||void 0===u?void 0:u.phone)&&(0,l.jsxs)("p",{className:"mt-2",children:["Phone: ",w.shippingAddress.phone]})]})}),(0,l.jsx)(m.Z,{title:"Order Timeline",children:(0,l.jsx)("div",{className:"space-y-3",children:null===(h=w.timeline)||void 0===h?void 0:h.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:O(e.date)}),e.note&&(0,l.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.note})]})]},t))})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(m.Z,{title:"Customer",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-sm font-medium",children:null===(g=w.customer)||void 0===g?void 0:null===(p=g.name)||void 0===p?void 0:p.charAt(0).toUpperCase()})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===(y=w.customer)||void 0===y?void 0:y.name}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:null===(j=w.customer)||void 0===j?void 0:j.email})]})]}),(null===(v=w.customer)||void 0===v?void 0:v.phone)&&(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Phone: ",w.customer.phone]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Customer since ",O(null===(b=w.customer)||void 0===b?void 0:b.createdAt)]})]})}),(0,l.jsx)(m.Z,{title:"Order Summary",children:(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,l.jsx)("span",{className:"text-gray-900",children:E(w.subtotal)})]}),w.discount>0&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Discount:"}),(0,l.jsxs)("span",{className:"text-red-600",children:["-",E(w.discount)]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Shipping:"}),(0,l.jsx)("span",{className:"text-gray-900",children:E(w.shipping)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Tax:"}),(0,l.jsx)("span",{className:"text-gray-900",children:E(w.tax)})]}),(0,l.jsxs)("div",{className:"border-t pt-2 flex justify-between font-medium",children:[(0,l.jsx)("span",{className:"text-gray-900",children:"Total:"}),(0,l.jsx)("span",{className:"text-gray-900",children:E(w.total)})]})]})}),(0,l.jsx)(m.Z,{title:"Payment",children:(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Method:"}),(0,l.jsx)("span",{className:"text-gray-900",children:w.paymentMethod})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("paid"===w.paymentStatus?"bg-green-100 text-green-800":"pending"===w.paymentStatus?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(null===(f=w.paymentStatus)||void 0===f?void 0:f.charAt(0).toUpperCase())+(null===(N=w.paymentStatus)||void 0===N?void 0:N.slice(1))})]}),w.transactionId&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,l.jsx)("span",{className:"text-gray-900 text-xs",children:w.transactionId})]})]})}),(0,l.jsx)(m.Z,{title:"Update Status",children:(0,l.jsxs)("select",{value:C,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"pending",children:"Pending"}),(0,l.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,l.jsx)("option",{value:"processing",children:"Processing"}),(0,l.jsx)("option",{value:"shipped",children:"Shipped"}),(0,l.jsx)("option",{value:"delivered",children:"Delivered"}),(0,l.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,l.jsx)("option",{value:"refunded",children:"Refunded"})]})})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:k,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"}),(0,l.jsx)("button",{type:"button",onClick:()=>window.open("/admin/orders/".concat(w.id,"/invoice"),"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Generate Invoice"})]})]})})})},h=()=>{let[e,t]=(0,n.useState)([]),[s,d]=(0,n.useState)(!0),[i,h]=(0,n.useState)(""),[p,g]=(0,n.useState)("all"),[y,j]=(0,n.useState)("all"),[v,b]=(0,n.useState)(1),[f,N]=(0,n.useState)(1),[w,k]=(0,n.useState)([]),[S,C]=(0,n.useState)(!1),[A,L]=(0,n.useState)(null),[P,E]=(0,n.useState)({start:"",end:""}),O=(0,c.useRouter)(),{showSuccess:M,showError:U,showWarning:_}=(0,x.V)(),D=[{value:"pending",label:"En attente",color:"yellow"},{value:"confirmed",label:"Confirm\xe9e",color:"blue"},{value:"processing",label:"En cours",color:"indigo"},{value:"shipped",label:"Exp\xe9di\xe9e",color:"purple"},{value:"delivered",label:"Livr\xe9e",color:"green"},{value:"cancelled",label:"Annul\xe9e",color:"red"},{value:"refunded",label:"Rembours\xe9e",color:"gray"}],Z=[{value:"pending",label:"En attente",color:"yellow"},{value:"paid",label:"Pay\xe9e",color:"green"},{value:"failed",label:"\xc9chou\xe9e",color:"red"},{value:"refunded",label:"Rembours\xe9e",color:"gray"}];(0,n.useEffect)(()=>{I()},[I]);let I=(0,n.useCallback)(async()=>{try{d(!0);let e=new URLSearchParams({page:v,limit:15,search:i,status:p,payment:y,startDate:P.start,endDate:P.end}),s=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/orders?").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!s.ok)throw Error("Failed to fetch orders");let r=await s.json();t(r.orders),N(Math.ceil(r.total/15))}catch(e){console.error("Error fetching orders:",e),U("\xc9chec du chargement des commandes. Veuillez r\xe9essayer.")}finally{d(!1)}},[v,i,p,y,P,U]),T=async(e,t)=>{try{if(!(await fetch("".concat("https://fenkparet-backend.onrender.com","/api/orders/").concat(e,"/status"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok)throw Error("Failed to update order status");M("Order status updated successfully"),I()}catch(e){console.error("Error updating order status:",e),U("Failed to update order status. Please try again.")}},z=async e=>{if(0===w.length){_("Please select orders to update");return}try{if(!(await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/orders/bulk-status"),{method:"PUT",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({orderIds:w,status:e})})).ok)throw Error("Failed to update orders");M("".concat(w.length," orders updated successfully")),k([]),I()}catch(e){console.error("Error updating orders:",e),U("Failed to update orders. Please try again.")}},R=e=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},B=()=>{w.length===e.length?k([]):k(e.map(e=>e.id))},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"order",s=("payment"===t?Z:D).find(t=>t.value===e);return s?(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({yellow:"bg-yellow-100 text-yellow-800",blue:"bg-blue-100 text-blue-800",indigo:"bg-indigo-100 text-indigo-800",purple:"bg-purple-100 text-purple-800",green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800",gray:"bg-gray-100 text-gray-800"}[s.color]),children:s.label}):null},V=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),W=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),H=async()=>{try{let e=new URLSearchParams({search:i,status:p,payment:y,startDate:P.start,endDate:P.end,format:"csv"}),t=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/admin/orders/export?").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw Error("Failed to export orders");let s=await t.blob(),r=window.URL.createObjectURL(s),a=document.createElement("a");a.style.display="none",a.href=r,a.download="orders-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),M("Orders exported successfully")}catch(e){console.error("Error exporting orders:",e),U("Failed to export orders. Please try again.")}};return s?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,l.jsx)(o.Z,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Management"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Process and track customer orders"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:H,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Export Orders"}),(0,l.jsx)("button",{onClick:()=>O.push("/admin/analytics"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Analytics"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsx)(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"1,234"})]})]})}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"45"})]})]})}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"1,189"})]})]})}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"$45,678"})]})]})})]}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"text",placeholder:"Search by order ID or customer...",value:i,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,l.jsx)("div",{children:(0,l.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"all",children:"All Order Status"}),D.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"all",children:"All Payment Status"}),Z.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"date",value:P.start,onChange:e=>E(t=>(0,a._)((0,r._)({},t),{start:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Start date"})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"date",value:P.end,onChange:e=>E(t=>(0,a._)((0,r._)({},t),{end:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"End date"})})]})}),w.length>0&&(0,l.jsx)(m.Z,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-900",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("span",{className:"text-sm text-blue-700",children:[w.length," order(s) selected"]}),(0,l.jsx)("div",{className:"space-x-2",children:(0,l.jsxs)("select",{onChange:e=>{e.target.value&&(z(e.target.value),e.target.value="")},className:"text-sm border border-blue-300 rounded px-2 py-1",children:[(0,l.jsx)("option",{value:"",children:"Update Status"}),D.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})})]})}),(0,l.jsxs)(m.Z,{className:"overflow-hidden",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,l.jsx)("input",{type:"checkbox",checked:w.length===e.length&&e.length>0,onChange:()=>B(),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,l.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("input",{type:"checkbox",checked:w.includes(e.id),onChange:()=>R(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["#",e.orderNumber]}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[e.itemCount," items"]})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customer.name}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.customer.email})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V(e.total)}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("select",{value:e.status,onChange:t=>T(e.id,t.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:D.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:F(e.paymentStatus,"payment")}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W(e.createdAt)}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,l.jsx)("button",{onClick:()=>{L(e),C(!0)},className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),(0,l.jsx)("button",{onClick:()=>window.open("/admin/orders/".concat(e.id,"/invoice"),"_blank"),className:"text-green-600 hover:text-green-900",children:"Invoice"})]})]},e.id))})]})}),0===e.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,l.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No orders found"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Orders will appear here when customers make purchases."})]})]}),f>1&&(0,l.jsxs)(m.Z,{className:"px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,l.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,l.jsx)("button",{onClick:()=>b(e=>Math.max(e-1,1)),disabled:1===v,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,l.jsx)("button",{onClick:()=>b(e=>Math.min(e+1,f)),disabled:v===f,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),(0,l.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,l.jsx)("span",{className:"font-medium",children:v})," of"," ",(0,l.jsx)("span",{className:"font-medium",children:f})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,l.jsx)("button",{onClick:()=>b(e=>Math.max(e-1,1)),disabled:1===v,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,f)},(e,t)=>{let s;return s=f<=5?t+1:v<=3?t+1:v>=f-2?f-4+t:v-2+t,(0,l.jsx)("button",{onClick:()=>b(s),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(v===s?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:s},s)}),(0,l.jsx)("button",{onClick:()=>b(e=>Math.min(e+1,f)),disabled:v===f,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]}),S&&A&&(0,l.jsx)(u,{order:A,onClose:()=>C(!1),onStatusUpdate:e=>{T(A.id,e),C(!1)}})]})})}}},function(e){e.O(0,[58,888,774,179],function(){return e(e.s=6376)}),_N_E=e.O()}]);