(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(1082)}])},3045:function(e,t,r){"use strict";r.d(t,{Z:function(){return H}});var s=r(5893),a=r(645),o=r.n(a),n=r(7294),i=r(9008),c=r.n(i),l=r(1163),d=r(1664),m=r.n(d);r(5675);var u=r(2490),h=r(1557),x=r(1837),p=r(6501),g=r(3069),f=r(7511),v=r(9633),b=r(3541),y=r(6651),j=r(6977),w=r(2294),N=r(1594),k=r(4981),S=r(1718),C=()=>{let[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[p,C]=(0,n.useState)(""),D=(0,n.useRef)(null),A=(0,n.useRef)(null),E=(0,n.useRef)(null),P=(0,l.useRouter)(),{user:T,logout:_,isAuthenticated:I}=(0,u.a)(),{getItemCount:R}=(0,h.j)(),{toggleTheme:O,isDark:z}=(0,x.F)(),{notifications:L,markAsRead:F,clearNotification:Z,getUnreadCount:q,clearAllNotifications:M}=(0,S.s)(),V=R(),U=q(),H=e=>{e.preventDefault(),p.trim()&&(P.push("/products?search=".concat(encodeURIComponent(p.trim()))),i(!1),C(""))},J=e=>{C(e)},B=e=>{"Enter"===e.key&&H(e)};(0,n.useEffect)(()=>{let e=e=>{!E.current||E.current.contains(e.target)||e.target.closest(".notification-toggle")||d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);let G=[{name:"Accueil",href:"/"},{name:"Produits",href:"/products"},{name:"Nouveaut\xe9s",href:"/nouveautes"},{name:"Contact",href:"/contact"},{name:"\xc0 propos",href:"/about"}];return(0,n.useEffect)(()=>{o&&A.current&&setTimeout(()=>{A.current.focus()},100)},[o]),(0,n.useEffect)(()=>{let e=e=>{!r||e.target.closest(".user-menu-dropdown")||e.target.closest(".user-menu-toggle")||a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]),(0,n.useEffect)(()=>{t(!1)},[P.asPath]),(0,s.jsx)("header",{className:"bg-theme-primary text-theme-primary shadow-sm border-b border-theme sticky top-0 z-50 theme-transition",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center h-16 min-h-[4rem]",children:[(0,s.jsxs)("div",{className:"flex items-center min-w-0 flex-1 lg:flex-initial",children:[(0,s.jsx)(m(),{href:"/",className:"text-xl font-bold text-theme-primary hover:text-accent transition-colors flex-shrink-0",children:"Fenkparet"}),(0,s.jsx)("nav",{className:"hidden lg:flex ml-6 xl:ml-8 space-x-1 xl:space-x-3 overflow-hidden",children:G.map(e=>(0,s.jsx)(m(),{href:e.href,className:"nav-link px-2 py-2 text-sm font-medium whitespace-nowrap hover:bg-theme-secondary rounded-md transition-colors",children:e.name},e.name))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3 flex-shrink-0",children:[(0,s.jsxs)("form",{onSubmit:H,className:"hidden lg:flex relative items-center w-48 xl:w-64",children:[(0,s.jsx)(g.Z,{className:"absolute left-3 h-5 w-5 text-theme-secondary pointer-events-none"}),(0,s.jsx)("input",{ref:D,type:"text",value:p,onChange:e=>J(e.target.value),onKeyPress:B,placeholder:"Rechercher...",className:"pl-10 pr-12 py-2 w-full rounded-md border border-theme-border bg-theme-input text-theme-primary placeholder-theme-tertiary focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent text-sm"}),(0,s.jsx)("button",{type:"submit",className:"absolute right-2 p-1 text-theme-secondary hover:text-accent transition-colors",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)("button",{onClick:()=>i(!o),className:"lg:hidden btn-ghost p-2","aria-label":"Search",children:(0,s.jsx)(g.Z,{className:"w-5 h-5 text-theme-secondary"})}),(0,s.jsx)("button",{onClick:O,className:"btn-ghost p-2 theme-toggle-btn","aria-label":"Toggle theme",children:z?(0,s.jsx)(f.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}):(0,s.jsx)(v.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),T&&(0,s.jsxs)("div",{className:"relative",ref:E,children:[(0,s.jsxs)("button",{onClick:()=>d(!c),className:"p-2 rounded-full hover:bg-theme-secondary transition-colors relative notification-toggle","aria-label":"Notifications",children:[(0,s.jsx)(b.Z,{className:"w-6 h-6 text-theme-secondary"}),U>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-error-color text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U>99?"99+":U})]}),c&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-theme-primary rounded-lg shadow-lg border border-theme z-50",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-theme flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:"Notifications"}),(0,s.jsx)("button",{onClick:M,className:"text-sm text-theme-tertiary hover:text-accent",children:"Tout effacer"})]}),(0,s.jsx)("div",{className:"max-h-60 overflow-y-auto",children:L&&0===L.length?(0,s.jsx)("p",{className:"text-center text-theme-tertiary p-4",children:"Aucune nouvelle notification."}):L&&L.map(e=>(0,s.jsxs)("div",{onClick:()=>F(e.id),className:"p-3 border-b border-theme last:border-b-0 cursor-pointer ".concat(e.read?"bg-theme-secondary text-theme-tertiary":"bg-theme-bg hover:bg-theme-secondary"),children:[(0,s.jsx)("p",{className:"font-medium ".concat(e.read?"text-theme-tertiary":"text-theme-primary"),children:e.message}),(0,s.jsx)("span",{className:"text-xs text-theme-tertiary",children:new Date(e.timestamp).toLocaleString()})]},e.id))})]})]}),(0,s.jsxs)(m(),{href:"/cart",className:"btn-ghost p-2 relative group","aria-label":"Shopping cart",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-theme-secondary"}),V>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-accent text-accent-contrast text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-bold animate-pulse min-w-[1rem] sm:min-w-[1.25rem]",children:V>99?"99+":V})]}),I?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>a(!r),className:"user-menu-toggle flex items-center space-x-1 sm:space-x-2 btn-ghost px-2 py-2","aria-label":"User menu",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-accent flex-shrink-0"}),(0,s.jsx)("span",{className:"hidden md:block text-sm font-medium max-w-[60px] lg:max-w-[80px] truncate text-theme-primary",children:(null==T?void 0:T.name)||"User"}),(0,s.jsx)(w.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 text-theme-secondary transition-transform flex-shrink-0 ".concat(r?"rotate-180":"")})]}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),(0,s.jsx)("div",{className:"user-menu-dropdown absolute right-0 mt-2 w-56 rounded-xl shadow-lg z-50 bg-theme-primary border border-theme animate-fade-in-scale",children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)("div",{className:"px-4 py-3 border-b border-theme",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-theme-primary truncate",children:(null==T?void 0:T.name)||"User"}),(0,s.jsx)("p",{className:"text-xs text-theme-tertiary truncate",children:null==T?void 0:T.email})]}),(0,s.jsx)(m(),{href:"/user/profile",className:"block px-4 py-2 text-sm nav-link",children:"Profil"}),(0,s.jsx)(m(),{href:"/user/orders",className:"block px-4 py-2 text-sm nav-link",children:"Mes commandes"}),(null==T?void 0:T.isAdmin)&&(0,s.jsx)(m(),{href:"/admin/dashboard",className:"block px-4 py-2 text-sm nav-link",children:"Administration"}),(0,s.jsx)("hr",{className:"my-2 border-theme"}),(0,s.jsx)("button",{onClick:()=>{_(),a(!1)},className:"block w-full text-left px-4 py-2 text-sm nav-link",children:"D\xe9connexion"})]})})]})]}):(0,s.jsx)(m(),{href:"/auth/login",className:"btn-primary text-sm px-3 py-2 whitespace-nowrap",children:"Connexion"}),(0,s.jsx)("button",{onClick:()=>t(!e),className:"lg:hidden btn-ghost p-2 ml-1","aria-label":"Toggle menu",children:e?(0,s.jsx)(N.Z,{className:"w-5 h-5 sm:w-6 sm:h-6 text-theme-secondary"}):(0,s.jsx)(k.Z,{className:"w-5 h-5 sm:w-6 sm:h-6 text-theme-secondary"})})]})]}),o&&(0,s.jsx)("div",{className:"lg:hidden p-4 border-t border-theme animate-fade-in-down",children:(0,s.jsxs)("form",{onSubmit:H,className:"relative flex items-center",children:[(0,s.jsx)(g.Z,{className:"absolute left-3 h-5 w-5 text-theme-secondary pointer-events-none"}),(0,s.jsx)("input",{ref:A,type:"text",value:p,onChange:e=>J(e.target.value),onKeyPress:B,placeholder:"Rechercher...",className:"pl-10 pr-12 py-2 w-full rounded-md border border-theme-border bg-theme-input text-theme-primary placeholder-theme-tertiary focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",autoFocus:!0}),(0,s.jsx)("button",{type:"submit",className:"absolute right-2 p-1 text-theme-secondary hover:text-accent transition-colors",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})})]})}),e&&(0,s.jsx)("div",{className:"lg:hidden border-t border-theme animate-fade-in-up",children:(0,s.jsxs)("div",{className:"py-4 space-y-2",children:[G.map(e=>(0,s.jsx)(m(),{href:e.href,className:"block py-3 px-2 nav-link rounded-md hover:bg-theme-secondary transition-colors",onClick:()=>t(!1),children:e.name},e.name)),!I&&(0,s.jsx)("div",{className:"pt-4 border-t border-theme mt-4",children:(0,s.jsx)(m(),{href:"/auth/register",className:"block w-full btn-primary text-center",onClick:()=>t(!1),children:"Inscription"})})]})})]})})},D=r(8689),A=r(73),E=()=>{let[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)(!1),{isAuthenticated:o}=(0,u.a)(),i=new Date().getFullYear(),c=async r=>{if(r.preventDefault(),!e.trim()){p.Am.error("Veuillez entrer votre adresse email.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){p.Am.error("Veuillez entrer une adresse email valide.");return}a(!0);try{let r=JSON.parse(localStorage.getItem("newsletterSubscriptions")||"[]");if(r.some(t=>t.email===e)){p.Am.error("Cette adresse email est d\xe9j\xe0 abonn\xe9e \xe0 notre newsletter."),a(!1);return}let s={email:e,subscribedAt:new Date().toISOString(),preferences:{newInventory:!0,promotions:!0,blogUpdates:!0},status:"active"};r.push(s),localStorage.setItem("newsletterSubscriptions",JSON.stringify(r));try{await fetch("".concat("https://fenkparet-backend.onrender.com","/api/newsletter/subscribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(e){console.log("Server not available, subscription stored locally")}p.Am.success("Merci de vous \xeatre abonn\xe9! Vous recevrez des notifications pour les nouveaux arrivages."),t("")}catch(e){console.error("Newsletter subscription error:",e),p.Am.error("Une erreur est survenue. Veuillez r\xe9essayer.")}finally{a(!1)}};return(0,s.jsx)("footer",{className:"bg-theme-secondary text-theme-secondary py-8 md:py-10 border-t border-theme mt-auto theme-transition",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center md:items-start text-center md:text-left space-y-3",children:[(0,s.jsx)(m(),{href:"/",className:"text-2xl font-bold text-theme-primary hover:text-accent transition-colors","aria-label":"Fenkparet Home",children:"Fenkparet"}),(0,s.jsx)("div",{className:"space-y-1 text-sm text-theme-tertiary",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-center md:justify-start space-x-2",children:[(0,s.jsx)(D.Z,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("a",{href:"tel:+50947458821",className:"hover:text-accent transition-colors",children:"(+509) 4745-8821"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center md:justify-start space-x-2",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("a",{href:"mailto:fenkparet509@gmail.com",className:"hover:text-accent transition-colors",children:"fenkparet509@gmail.com"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-center md:justify-start space-x-2",children:[(0,s.jsx)(D.Z,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("span",{children:"(+509) 4745-8821"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center md:justify-start space-x-2",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("span",{children:"fenkparet509@gmail.com"})]})]})})]}),(0,s.jsxs)("div",{className:"w-full md:w-auto flex flex-col items-center md:items-end text-center md:text-right space-y-3",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-theme-primary",children:"Newsletter"}),(0,s.jsx)("p",{className:"text-sm text-theme-tertiary max-w-sm",children:"Restez inform\xe9 de nos derniers produits et offres."}),(0,s.jsxs)("form",{onSubmit:c,className:"flex w-full max-w-sm",children:[(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Votre email",disabled:r,className:"flex-1 px-4 py-2 rounded-l-md border border-theme-border bg-theme-input text-theme-primary placeholder-theme-tertiary focus:outline-none focus:ring-2 focus:ring-accent disabled:opacity-50","aria-label":"Votre email",required:!0}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"px-5 py-2 bg-accent text-accent-contrast rounded-r-md hover:bg-accent-hover transition-colors font-medium text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:r?"En cours...":"S'abonner"})]})]})]}),(0,s.jsxs)("div",{className:"border-t border-theme pt-6 mt-6 text-center text-sm text-theme-tertiary",children:[(0,s.jsxs)("p",{className:"mb-2",children:["\xa9 ",i," Fenkparet. Tous droits r\xe9serv\xe9s."]}),(0,s.jsxs)("p",{children:["Built by"," ",(0,s.jsx)("a",{href:"https://github.com/Roma10boss",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-accent-hover font-medium transition-colors underline decoration-accent/30 hover:decoration-accent",children:"Romario Gustave"})]})]})]})})},P=r(9274),T=r(567),_=r(4932),I=r(2025),R=r(927),O=r(5567),z=r(1628);let L={baseURL:"https://fenkparet-backend.onrender.com",headers:{"Content-Type":"application/json"},withCredentials:!1,mode:"cors"},F=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("token"),s=(0,_._)((0,T._)({},L,t),{headers:(0,T._)({},L.headers,r&&{Authorization:"Bearer ".concat(r)},t.headers)});try{let t=await fetch(e,s),r=t.headers.get("content-type");if(!r||!r.includes("application/json")){if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return{data:await t.text(),status:t.status}}let a=await t.json();if(!t.ok)throw Error(a.message||"HTTP error! status: ".concat(t.status));return{data:a,status:t.status}}catch(e){throw console.error("API request failed:",e),e}},Z={submitFeedback:e=>{let t={subject:"Feedback: ".concat(e.type.charAt(0).toUpperCase()+e.type.slice(1)),description:e.message,category:"bug"===e.type?"technical":"payment"===e.type?"billing":"feature"===e.type?"other":"technical",priority:e.rating<=2?"high":e.rating<=3?"medium":"low",customerName:"Utilisateur Anonyme",customerEmail:e.email||"noreply@fenkparet.com",source:"feedback_widget",metadata:{rating:e.rating,userAgent:e.userAgent,page:e.page,url:e.url,screenSize:e.screenSize,viewportSize:e.viewportSize,timestamp:e.timestamp}};return F("".concat("https://fenkparet-backend.onrender.com","/api/tickets"),{method:"POST",body:JSON.stringify(t)})}};var q=()=>{let[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1),[o,i]=(0,n.useState)({type:"general",message:"",email:"",rating:5,hoverRating:null}),[c,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)({totalRatings:0,averageRating:4.7,visitorCount:1e3,ratingDistribution:[2,3,8,35,52]});(0,n.useEffect)(()=>{(()=>{let e=JSON.parse(localStorage.getItem("customerFeedback")||"[]"),t=parseInt(localStorage.getItem("visitorCount")||"1000");if(e.length>0){let r=e.length,s=e.reduce((e,t)=>e+t.rating,0)/r,a=[0,0,0,0,0];e.forEach(e=>{e.rating>=1&&e.rating<=5&&a[e.rating-1]++});let o=a.map(e=>r>0?Math.round(e/r*100):0);m({totalRatings:r,averageRating:Math.round(10*s)/10,visitorCount:t,ratingDistribution:o})}else{let e=t+1;localStorage.setItem("visitorCount",e.toString()),m(t=>(0,_._)((0,T._)({},t),{visitorCount:e}))}})()},[]);let u=async e=>{if(e.preventDefault(),!o.message.trim()){p.Am.error("Veuillez entrer votre message de commentaires");return}l(!0);try{let e=(0,_._)((0,T._)({},o),{userAgent:navigator.userAgent,timestamp:new Date().toISOString(),page:window.location.pathname,url:window.location.href,screenSize:"".concat(window.screen.width,"x").concat(window.screen.height),viewportSize:"".concat(window.innerWidth,"x").concat(window.innerHeight)}),r=JSON.parse(localStorage.getItem("customerFeedback")||"[]");r.push(e),localStorage.setItem("customerFeedback",JSON.stringify(r));let s=r.length,a=r.reduce((e,t)=>e+t.rating,0)/s,n=[0,0,0,0,0];r.forEach(e=>{e.rating>=1&&e.rating<=5&&n[e.rating-1]++});let c=n.map(e=>Math.round(e/s*100));m(e=>(0,_._)((0,T._)({},e),{totalRatings:s,averageRating:Math.round(10*a)/10,ratingDistribution:c}));try{await Z.submitFeedback(e)}catch(e){console.log("Server not available, feedback stored locally")}p.Am.success("Merci pour vos commentaires! \uD83D\uDE4F"),i({type:"general",message:"",email:"",rating:5,hoverRating:null}),t(!1)}catch(e){console.error("Feedback submission error:",e),p.Am.error("\xc9chec de l&apos;envoi des commentaires. Veuillez r\xe9essayer.")}finally{l(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col space-y-3",children:[d.totalRatings>0&&(0,s.jsxs)("button",{onClick:()=>a(!r),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-full text-sm font-medium shadow-lg transition-all duration-200 flex items-center space-x-2","aria-label":"Voir les \xe9valuations",children:[(0,s.jsx)(z.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[d.averageRating,"/5 (",d.totalRatings,")"]})]}),(0,s.jsx)("button",{onClick:()=>t(!0),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110","aria-label":"Donner des commentaires",children:(0,s.jsx)(I.Z,{className:"h-6 w-6"})})]}),r&&(0,s.jsx)("div",{className:"fixed bottom-20 right-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-64 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"\xc9valuations Clients"}),(0,s.jsx)("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,s.jsx)(N.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(e=>(0,s.jsx)(z.Z,{className:"h-5 w-5 ".concat(e<=Math.round(d.averageRating)?"text-yellow-400":"text-gray-300 dark:text-gray-600")},e))}),(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:d.averageRating})]}),(0,s.jsx)("div",{className:"space-y-1",children:d.ratingDistribution.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,s.jsxs)("span",{className:"w-8 text-gray-600 dark:text-gray-400",children:[5-t,"★"]}),(0,s.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e,"%")}})}),(0,s.jsxs)("span",{className:"w-8 text-xs text-gray-500 dark:text-gray-400",children:[e,"%"]})]},t)).reverse()}),(0,s.jsxs)("div",{className:"mt-3 text-center text-xs text-gray-500 dark:text-gray-400",children:["Bas\xe9 sur ",d.totalRatings," \xe9valuation",1!==d.totalRatings?"s":""]})]})}),e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCDD Commentaires et suggestions"}),(0,s.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,s.jsx)(N.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("form",{onSubmit:u,className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de commentaire"}),(0,s.jsxs)("select",{value:o.type,onChange:e=>i(t=>(0,_._)((0,T._)({},t),{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"general",children:"Commentaire g\xe9n\xe9ral"}),(0,s.jsx)("option",{value:"bug",children:"Rapport de bug"}),(0,s.jsx)("option",{value:"feature",children:"Demande de fonctionnalit\xe9"}),(0,s.jsx)("option",{value:"ui",children:"Probl\xe8me UI/UX"}),(0,s.jsx)("option",{value:"performance",children:"Probl\xe8me de performance"}),(0,s.jsx)("option",{value:"admin",children:"Test de fonction admin"}),(0,s.jsx)("option",{value:"mobile",children:"Exp\xe9rience mobile"}),(0,s.jsx)("option",{value:"payment",children:"Paiement/Commande"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Exp\xe9rience globale (1-5 \xe9toiles)"}),(0,s.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>i(t=>(0,_._)((0,T._)({},t),{rating:e})),onMouseEnter:()=>i(t=>(0,_._)((0,T._)({},t),{hoverRating:e})),onMouseLeave:()=>i(e=>(0,_._)((0,T._)({},e),{hoverRating:null})),className:"transition-all duration-200 hover:scale-110 ".concat(e<=(o.hoverRating||o.rating)?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:e<=(o.hoverRating||o.rating)?(0,s.jsx)(z.Z,{className:"h-6 w-6"}):(0,s.jsx)(R.Z,{className:"h-6 w-6"})},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vos commentaires *"}),(0,s.jsx)("textarea",{value:o.message,onChange:e=>i(t=>(0,_._)((0,T._)({},t),{message:e.target.value})),placeholder:"Veuillez d\xe9crire votre exp\xe9rience, les probl\xe8mes rencontr\xe9s, ou vos suggestions d'am\xe9lioration...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email (optionnel)"}),(0,s.jsx)("input",{type:"email",value:o.email,onChange:e=>i(t=>(0,_._)((0,T._)({},t),{email:e.target.value})),placeholder:"votre-email@exemple.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"\uD83E\uDDEA Guide de test"}),(0,s.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1",children:[(0,s.jsx)("li",{children:"• Essayez de parcourir les produits et utiliser la recherche"}),(0,s.jsx)("li",{children:"• Testez le panier et la commande"}),(0,s.jsx)("li",{children:"• V\xe9rifiez la compatibilit\xe9 mobile"}),(0,s.jsx)("li",{children:"• Pour les admins: Testez l'ajout et la gestion des produits"}),(0,s.jsx)("li",{children:"• Signalez toute erreur ou interface confuse"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center space-x-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,s.jsx)("span",{children:"Envoi en cours..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Envoyer les commentaires"})]})})]})]})})]})},M=r(3454);let V=()=>{let[e,t]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e)?(0,s.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-4 right-4 bg-accent hover:bg-accent-hover text-accent-contrast p-3 rounded-full shadow-lg transition-all duration-300 z-40 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2","aria-label":"Back to top",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}):null},U=()=>{let e=(0,l.useRouter)(),[t,r]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let t=()=>r(!0),s=()=>r(!1);return e.events.on("routeChangeStart",t),e.events.on("routeChangeComplete",s),e.events.on("routeChangeError",s),()=>{e.events.off("routeChangeStart",t),e.events.off("routeChangeComplete",s),e.events.off("routeChangeError",s)}},[e]),t)?(0,s.jsxs)("div",{className:"jsx-9eb2dbae523994c8 fixed top-0 left-0 w-full h-1 z-50",children:[(0,s.jsx)("div",{className:"jsx-9eb2dbae523994c8 h-full accent-gradient animate-loading-bar"}),(0,s.jsx)(o(),{id:"9eb2dbae523994c8",children:"@-webkit-keyframes loading-bar{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes loading-bar{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes loading-bar{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes loading-bar{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}.animate-loading-bar.jsx-9eb2dbae523994c8{-webkit-animation:loading-bar 1.5s infinite;-moz-animation:loading-bar 1.5s infinite;-o-animation:loading-bar 1.5s infinite;animation:loading-bar 1.5s infinite}"})]}):null};var H=e=>{var t;let{children:r,title:a,description:o,keywords:i,noIndex:d=!1}=e,m=(0,l.useRouter)(),{trackOrder:h}=(0,S.s)(),{mounted:p}=(0,x.F)(),{loading:g}=(0,u.a)(),f=a?"".concat(a," | ").concat("Fenkparet"):"Fenkparet",v=o||"Quality products at great prices";return((0,n.useEffect)(()=>{if(!(null==m?void 0:m.events))return;let e=e=>{window.gtag&&window.gtag("config",M.env.NEXT_PUBLIC_GA_ID,{page_path:e})};return m.events.on("routeChangeComplete",e),()=>{m.events.off("routeChangeComplete",e)}},[null==m?void 0:m.events]),(0,n.useEffect)(()=>{var e;(null==m?void 0:null===(e=m.query)||void 0===e?void 0:e.track)&&"string"==typeof m.query.track&&h(m.query.track)},[null==m?void 0:null===(t=m.query)||void 0===t?void 0:t.track,h]),!p||g)?(0,s.jsx)(P.h,{message:"Loading application..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c(),{children:[(0,s.jsx)("title",{children:f}),(0,s.jsx)("meta",{name:"description",content:v}),(0,s.jsx)("meta",{name:"keywords",content:i||"fenkparet, quality products, haitian products"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("meta",{charSet:"utf-8"}),d&&(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,s.jsx)("meta",{property:"og:type",content:"website"}),(0,s.jsx)("meta",{property:"og:title",content:f}),(0,s.jsx)("meta",{property:"og:description",content:v}),(0,s.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("meta",{name:"twitter:title",content:f}),(0,s.jsx)("meta",{name:"twitter:description",content:v}),(0,s.jsx)("meta",{name:"theme-color",content:"#b8d2b3"}),(0,s.jsx)("meta",{name:"application-name",content:"Fenkparet"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,s.jsx)("link",{rel:"canonical",href:"".concat("https://fenparet-website.web.app").concat((null==m?void 0:m.asPath)||"")})]}),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-theme-primary text-theme-primary theme-transition",children:[(0,s.jsx)("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 bg-accent text-accent-contrast px-4 py-2 z-50 transition-all",children:"Skip to main content"}),(0,s.jsx)(C,{className:"sticky top-0 z-40 w-full bg-theme-primary border-b border-theme-border",locale:"en"}),(0,s.jsx)("main",{id:"main-content",className:"flex-1 focus:outline-none",tabIndex:"-1",role:"main",children:r}),(0,s.jsx)(E,{}),(0,s.jsx)(V,{}),(0,s.jsx)(U,{}),(0,s.jsx)(q,{})]})]})}},9274:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var s=r(5893);r(7294);var a=r(2088);let o=e=>{let{message:t="Chargement de l'application...",size:r="large"}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-theme-primary text-theme-primary",children:[(0,s.jsx)(a.T,{size:r}),t&&(0,s.jsx)("p",{className:"mt-4 text-lg font-medium",children:t})]})}},2088:function(e,t,r){"use strict";r.d(t,{T:function(){return a}});var s=r(5893);r(7294);let a=e=>{let{size:t="normal",className:r=""}=e;return(0,s.jsx)("div",{className:"spinner inline-block border-current border-r-transparent rounded-full animate-spin ".concat({small:"w-4 h-4 border-2",normal:"w-6 h-6 border-2",large:"w-8 h-8 border-4",xl:"w-12 h-12 border-4"}[t]," ").concat(r),role:"status","aria-label":"Chargement",children:(0,s.jsx)("span",{className:"sr-only",children:"Chargement..."})})};t.Z=a},1557:function(e,t,r){"use strict";r.d(t,{Z:function(){return m},j:function(){return u}});var s=r(567),a=r(4932),o=r(5893),n=r(7294),i=r(6501);let c=(0,n.createContext)(),l=(e,t)=>{switch(t.type){case"ADD_ITEM":{let c;let{product:l,quantity:d=1,selectedVariant:m=null}=t.payload,u=m?"".concat(l._id,"-").concat(m.id):l._id,h=e.items.findIndex(e=>e.id===u);if(h>-1)c=e.items.map((e,t)=>t===h?(0,a._)((0,s._)({},e),{quantity:e.quantity+d}):e),i.Am.success("".concat(d," more ").concat(l.name," added to cart"));else{var r,o,n;let t={id:u,productId:l._id,name:l.name,price:(null==m?void 0:m.price)||(null===(r=l.pricing)||void 0===r?void 0:r.price)||l.price,image:(null===(n=l.images)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.url)||"/placeholder-image.jpg",quantity:d,variant:m,slug:l.slug};c=[...e.items,t],i.Am.success("".concat(l.name," added to cart"))}return(0,a._)((0,s._)({},e),{items:c})}case"REMOVE_ITEM":{let r=e.items.filter(e=>e.id!==t.payload);return i.Am.success("Item removed from cart"),(0,a._)((0,s._)({},e),{items:r})}case"UPDATE_QUANTITY":{let{id:r,quantity:o}=t.payload;if(o<=0)return(0,a._)((0,s._)({},e),{items:e.items.filter(e=>e.id!==r)});let n=e.items.map(e=>e.id===r?(0,a._)((0,s._)({},e),{quantity:o}):e);return(0,a._)((0,s._)({},e),{items:n})}case"CLEAR_CART":return i.Am.success("Cart cleared"),(0,a._)((0,s._)({},e),{items:[]});case"LOAD_CART":return(0,a._)((0,s._)({},e),{items:t.payload});default:return e}},d={items:[]},m=e=>{let{children:t}=e,[r,s]=(0,n.useReducer)(l,d),[a,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{i(!0)},[]),(0,n.useEffect)(()=>{if(a){let e=localStorage.getItem("cart");if(e)try{let t=JSON.parse(e);s({type:"LOAD_CART",payload:t})}catch(e){console.error("Error loading cart from localStorage:",e),localStorage.removeItem("cart")}}},[a]),(0,n.useEffect)(()=>{a&&localStorage.setItem("cart",JSON.stringify(r.items))},[r.items,a]);let m=()=>{let e=r.items.reduce((e,t)=>e+t.price*t.quantity,0),t=r.items.reduce((e,t)=>e+t.quantity,0),s=.1*e,a=e>100?0:10;return{subtotal:e,itemCount:t,tax:s,shipping:a,total:e+s+a}},u={items:r.items,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s({type:"ADD_ITEM",payload:{product:e,quantity:t,selectedVariant:r}})},removeFromCart:e=>{s({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{s({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{s({type:"CLEAR_CART"})},getTotals:m,getCartTotals:m,isEmpty:()=>0===r.items.length,isInCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=t?"".concat(e,"-").concat(t):e;return r.items.some(e=>e.id===s)},getItemQuantity:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=t?"".concat(e,"-").concat(t):e,a=r.items.find(e=>e.id===s);return a?a.quantity:0},getItemCount:()=>r.items.reduce((e,t)=>e+t.quantity,0)};return(0,o.jsx)(c.Provider,{value:u,children:t})},u=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useCart must be used within a CartProvider");return e}},1718:function(e,t,r){"use strict";r.d(t,{s:function(){return u},w:function(){return m}});var s=r(567),a=r(4932),o=r(5893),n=r(7294),i=r(7642),c=r(6501),l=r(2490);let d=(0,n.createContext)(),m=e=>{let{children:t}=e,{user:r,loading:m}=(0,l.a)(),[u,h]=(0,n.useState)(null),[x,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)([]),v=e=>{let t=(0,a._)((0,s._)({},e),{id:Date.now()+Math.random(),read:!1,timestamp:new Date(e.timestamp||Date.now())});f(e=>[t,...e].slice(0,50))};return(0,n.useEffect)(()=>{m||u||(console.log("Creating new socket connection..."),h((0,i.ZP)("https://fenkparet-backend.onrender.com",{autoConnect:!1,query:{userId:(null==r?void 0:r._id)||(null==r?void 0:r.id)||""}})))},[m,r]),(0,n.useEffect)(()=>{if(!u||m)return;let e=()=>{p(!0),console.log("Socket connected"),r&&(r.isAdmin||"admin"===r.role?u.emit("join-admin",{isAdmin:!0}):u.emit("join-user",{userId:r._id||r.id}))},t=()=>{p(!1),console.log("Socket disconnected")},s=e=>{((null==r?void 0:r.isAdmin)||(null==r?void 0:r.role)==="admin")&&(v(e),c.Am.success(e.message,{duration:6e3,icon:"\uD83D\uDED2"}))},a=e=>{((null==r?void 0:r.isAdmin)||(null==r?void 0:r.role)==="admin")&&(v(e),c.Am.success(e.message,{duration:6e3,icon:"\uD83C\uDFAB"}))},o=e=>{((null==r?void 0:r.isAdmin)||(null==r?void 0:r.role)==="admin")&&(v(e),c.Am.error(e.message,{duration:8e3,icon:"\uD83D\uDCB3"}))},n=e=>{((null==r?void 0:r.isAdmin)||(null==r?void 0:r.role)==="admin")&&(v(e),c.Am.error(e.message,{duration:6e3,icon:"\uD83D\uDCE6"}))},i=e=>{v(e),c.Am.success(e.message,{duration:5e3,icon:"\uD83D\uDCCB"})},l=e=>{v(e),c.Am.success(e.message,{duration:6e3,icon:"✅"})},d=e=>{v(e),c.Am.error(e.message,{duration:6e3,icon:"❌"})},h=e=>{v(e),c.Am.success(e.message,{duration:5e3,icon:"\uD83D\uDCAC"})},x=e=>{v(e);let t="urgent"===e.priority||"high"===e.priority?"error":"success";c.Am[t](e.message,{duration:8e3,icon:"\uD83D\uDCE2"})},g=e=>{v(e),c.Am.success(e.message)},b=e=>{((null==r?void 0:r.isAdmin)||(null==r?void 0:r.role)==="admin")&&(v(e),c.Am.success(e.message))};return u.on("connect",e),u.on("disconnect",t),u.on("new-order",s),u.on("new-ticket",a),u.on("payment-confirmation",o),u.on("low-stock",n),u.on("order-update",i),u.on("payment-confirmed",l),u.on("order-cancelled",d),u.on("ticket-response",h),u.on("system-announcement",x),u.on("user-notification",g),u.on("admin-notification",b),r?u.connect():(u.disconnect(),f([])),()=>{u.off("connect",e),u.off("disconnect",t),u.off("new-order",s),u.off("new-ticket",a),u.off("payment-confirmation",o),u.off("low-stock",n),u.off("order-update",i),u.off("payment-confirmed",l),u.off("order-cancelled",d),u.off("ticket-response",h),u.off("system-announcement",x),u.off("user-notification",g),u.off("admin-notification",b)}},[u,r,m]),(0,n.useEffect)(()=>()=>{u&&(u.disconnect(),u.close())},[]),(0,o.jsx)(d.Provider,{value:{socket:u,connected:x,notifications:g,addNotification:v,markAsRead:e=>{f(t=>t.map(t=>t.id===e?(0,a._)((0,s._)({},t),{read:!0}):t))},markAllAsRead:()=>{f(e=>e.map(e=>(0,a._)((0,s._)({},e),{read:!0})))},clearNotification:e=>{f(t=>t.filter(t=>t.id!==e))},clearAllNotifications:()=>{f([])},getUnreadCount:()=>g.filter(e=>!e.read).length,trackOrder:e=>{u&&x&&u.emit("track-order",{orderNumber:e})},joinRoom:e=>{u&&x&&u.emit("join-room",{room:e})},leaveRoom:e=>{u&&x&&u.emit("leave-room",{room:e})}},children:t})},u=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useSocket must be used within a SocketProvider");return e}},1837:function(e,t,r){"use strict";r.d(t,{F:function(){return i},f:function(){return n}});var s=r(5893),a=r(7294);let o=(0,a.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,a.useState)("light"),[i,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{{let e=localStorage.getItem("fenkparet-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r="light";e?r=e:t&&(r="dark"),n(r),c(!0)}},[]),(0,a.useEffect)(()=>{if(i){let e=document.documentElement;e.classList.remove("light","dark"),"dark"===r||"system"===r&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.classList.add("dark"):e.classList.add("light"),localStorage.setItem("fenkparet-theme",r)}},[r,i]),(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{let t=localStorage.getItem("fenkparet-theme");t&&"system"!==t||n(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);let l=(0,a.useCallback)(()=>{n(e=>"light"===e?"dark":"light")},[]),d=(0,a.useCallback)(()=>n("light"),[]),m=(0,a.useCallback)(()=>n("dark"),[]),u=(0,a.useCallback)(()=>n("system"),[]),h=i&&document.documentElement.classList.contains("dark");return(0,s.jsx)(o.Provider,{value:{theme:r,toggleTheme:l,setLightTheme:d,setDarkTheme:m,setSystemTheme:u,isDark:h,isLight:!h,mounted:i},children:t})},i=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},2490:function(e,t,r){"use strict";r.d(t,{H:function(){return l},a:function(){return d}});var s=r(567),a=r(4932),o=r(5893),n=r(7294),i=r(1163);let c=(0,n.createContext)(),l=e=>{let{children:t}=e,[r,l]=(0,n.useState)(null),[d,m]=(0,n.useState)(!0),[u,h]=(0,n.useState)(null),x=(0,i.useRouter)();(0,n.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e){m(!1);return}if(h(e),t)try{let e=JSON.parse(t);l(e),console.log("\uD83D\uDD10 User loaded from storage:",e)}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem("user")}let r=await fetch("".concat("https://fenkparet-backend.onrender.com","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},mode:"cors"});if(r.ok){let e=await r.json();l(e.user),localStorage.setItem("user",JSON.stringify(e.user)),console.log("✅ User verified with server:",e.user)}else console.log("❌ Token invalid, clearing storage"),localStorage.removeItem("token"),localStorage.removeItem("user"),h(null),l(null)}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),h(null),l(null)}finally{m(!1)}},g=async(e,t)=>{try{console.log("\uD83D\uDD04 Attempting login for:",e);let r="https://fenkparet-backend.onrender.com";console.log("\uD83C\uDF10 API URL:",r);let s=await fetch("".concat(r,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({email:e,password:t})});console.log("\uD83D\uDCE1 Response status:",s.status,s.statusText);let a=await s.json();if(console.log("\uD83D\uDCE1 Login response:",a),s.ok&&a.success)return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),h(a.token),l(a.user),console.log("✅ Login successful:",a.user),console.log("\uD83D\uDEE1️  Is Admin?",a.user.isAdmin,a.user.role),{success:!0,user:a.user};if(console.log("❌ Login failed:",s.status,a.message),429===s.status)return{success:!1,error:"Trop de tentatives. Veuillez patienter quelques minutes et r\xe9essayer."};if(s.status>=500)return{success:!1,error:"Erreur du serveur. Le service est temporairement indisponible."};return{success:!1,error:a.message||"Identifiants incorrects."}}catch(r){if(console.error("❌ Login error:",r),"TypeError"===r.name&&r.message.includes("fetch")){if("demo@fenkparet.com"===e&&"demo123"===t){console.log("\uD83C\uDFAD Using demo user (backend unavailable)");let e={_id:"demo123",name:"Utilisateur D\xe9mo",email:"demo@fenkparet.com",isAdmin:!1,role:"customer"};return localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token","demo-token-123"),h("demo-token-123"),l(e),{success:!0,user:e}}return{success:!1,error:"Impossible de se connecter au serveur. Essayez avec demo@fenkparet.com / demo123 pour tester."}}return{success:!1,error:"Erreur de connexion. Veuillez r\xe9essayer."}}},f=async e=>{try{console.log("\uD83D\uDD04 Attempting registration for:",e.email),console.log("\uD83D\uDCCB Registration data:",(0,a._)((0,s._)({},e),{password:"[HIDDEN]"}));let t="https://fenkparet-backend.onrender.com";console.log("\uD83C\uDF10 API URL:",t);let r=await fetch("".concat(t,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(e)});console.log("\uD83D\uDCE1 Response status:",r.status,r.statusText);let o=await r.json();if(console.log("\uD83D\uDCE1 Register response:",o),r.ok&&o.success)return localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),h(o.token),l(o.user),console.log("✅ Registration successful:",o.user),{success:!0,user:o.user};if(console.log("❌ Registration failed:",r.status,o.message),429===r.status)return{success:!1,error:"Trop de tentatives. Veuillez patienter quelques minutes et r\xe9essayer."};if(r.status>=500)return{success:!1,error:"Erreur du serveur. Le service est temporairement indisponible."};if(400===r.status)return{success:!1,error:o.message||"Donn\xe9es invalides. V\xe9rifiez vos informations."};return{success:!1,error:o.message||"\xc9chec de l'inscription."}}catch(e){if(console.error("❌ Register error:",e),"TypeError"===e.name&&e.message.includes("fetch"))return{success:!1,error:"Impossible de se connecter au serveur. V\xe9rifiez votre connexion internet."};return{success:!1,error:"Erreur de connexion. Veuillez r\xe9essayer."}}},v=(null==r?void 0:r.isAdmin)===!0||(null==r?void 0:r.role)==="admin";return(0,o.jsx)(c.Provider,{value:{user:r,token:u,loading:d,isAuthenticated:!!r&&!!u,isAdmin:v,login:g,register:f,logout:()=>{console.log("\uD83D\uDEAA Logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),h(null),l(null),x.push("/")},updateUser:e=>{l(e),localStorage.setItem("user",JSON.stringify(e))},checkAuth:p},children:t})},d=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1082:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var s=r(567),a=r(5893),o=r(7294),n=r(1163),i=r(9),c=r(202),l=r(6501),d=r(9008),m=r.n(d),u=r(3045),h=r(1664),x=r.n(h),p=r(5152),g=r.n(p),f=r(2490),v=r(1837),b=r(4932),y=r(6651),j=r(3950),w=r(3431),N=r(9632),k=r(3541),S=r(1594),C=r(5086),D=()=>{let[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!1),[i,c]=(0,o.useState)(0);(0,o.useEffect)(()=>{d();let e=setInterval(d,3e4);return()=>clearInterval(e)},[]);let d=()=>{try{let e=localStorage.getItem("adminNotifications"),r=e?JSON.parse(e):[];0===r.length&&(r=m(),localStorage.setItem("adminNotifications",JSON.stringify(r))),r.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),t(r),c(r.filter(e=>!e.read).length)}catch(e){console.error("Error loading notifications:",e)}},m=()=>{let e=new Date;return[{id:"1",type:"order",title:"Nouvelle commande",message:"Commande #1234 - 2 articles pour 450 HTG",timestamp:new Date(e.getTime()-3e5).toISOString(),read:!1,icon:y.Z,color:"text-blue-600"},{id:"2",type:"user",title:"Nouvel utilisateur",message:"Jean Dupont s'est inscrit",timestamp:new Date(e.getTime()-9e5).toISOString(),read:!1,icon:j.Z,color:"text-green-600"},{id:"3",type:"warning",title:"Stock faible",message:"T-Shirt Premium - Il ne reste que 3 unit\xe9s",timestamp:new Date(e.getTime()-18e5).toISOString(),read:!0,icon:w.Z,color:"text-yellow-600"},{id:"4",type:"info",title:"Rapport mensuel",message:"Votre rapport mensuel est pr\xeat \xe0 \xeatre consult\xe9",timestamp:new Date(e.getTime()-36e5).toISOString(),read:!0,icon:N.Z,color:"text-purple-600"}]},u=e=>{t(t=>{let r=t.map(t=>t.id===e?(0,b._)((0,s._)({},t),{read:!0}):t);return localStorage.setItem("adminNotifications",JSON.stringify(r)),r}),c(e=>Math.max(0,e-1))},h=e=>{t(t=>{let r=t.find(t=>t.id===e),s=t.filter(t=>t.id!==e);return localStorage.setItem("adminNotifications",JSON.stringify(s)),r&&!r.read&&c(e=>Math.max(0,e-1)),s}),l.Am.success("Notification supprim\xe9e")},x=e=>{let t=Math.floor((new Date-new Date(e))/6e4);return t<1?"\xc0 l'instant":t<60?"".concat(t,"m"):t<1440?"".concat(Math.floor(t/60),"h"):"".concat(Math.floor(t/1440),"j")};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>n(!r),className:"relative p-2 text-theme-secondary hover:text-theme-primary transition-colors rounded-lg hover:bg-theme-secondary",children:[(0,a.jsx)(k.Z,{className:"w-6 h-6"}),i>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-error-color text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i>9?"9+":i})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-theme-primary border border-theme rounded-lg shadow-lg z-50 max-h-96 overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-theme flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-theme-primary",children:["Notifications",i>0&&(0,a.jsxs)("span",{className:"ml-2 text-sm text-theme-secondary",children:["(",i," non lues)"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[i>0&&(0,a.jsx)("button",{onClick:()=>{t(e=>{let t=e.map(e=>(0,b._)((0,s._)({},e),{read:!0}));return localStorage.setItem("adminNotifications",JSON.stringify(t)),t}),c(0),l.Am.success("Toutes les notifications marqu\xe9es comme lues")},className:"text-xs text-accent hover:text-accent-hover",children:"Tout marquer lu"}),e.length>0&&(0,a.jsx)("button",{onClick:()=>{t([]),c(0),localStorage.setItem("adminNotifications",JSON.stringify([])),l.Am.success("Toutes les notifications supprim\xe9es")},className:"text-xs text-error-color hover:text-red-700",children:"Tout effacer"})]})]}),(0,a.jsx)("div",{className:"max-h-72 overflow-y-auto",children:0===e.length?(0,a.jsxs)("div",{className:"p-6 text-center text-theme-secondary",children:[(0,a.jsx)(k.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"Aucune notification"})]}):e.map(e=>(0,a.jsx)("div",{className:"p-4 border-b border-theme last:border-b-0 hover:bg-theme-secondary transition-colors ".concat(e.read?"":"bg-accent/5"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 p-1 ".concat(e.color),children:(0,a.jsx)(e.icon,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium ".concat(e.read?"text-theme-secondary":"text-theme-primary"),children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,a.jsx)("span",{className:"text-xs text-theme-tertiary flex-shrink-0",children:x(e.timestamp)}),(0,a.jsx)("button",{onClick:()=>h(e.id),className:"text-theme-tertiary hover:text-error-color",children:(0,a.jsx)(S.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("p",{className:"text-sm text-theme-secondary mt-1",children:e.message}),(0,a.jsx)("div",{className:"flex items-center justify-between mt-2",children:!e.read&&(0,a.jsxs)("button",{onClick:()=>u(e.id),className:"text-xs text-accent hover:text-accent-hover flex items-center space-x-1",children:[(0,a.jsx)(C.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Marquer comme lu"})]})})]})]})},e.id))})]})]})]})},A=r(7511),E=r(2044),P=r(2508),T=r(7333),_=r(4931),I=r(73),R=r(5892),O=r(8746),z=r(5459),L=r(4981),F=r(5438);let Z=()=>(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),q=g()(()=>Promise.all([r.e(216),r.e(201)]).then(r.bind(r,6201)),{loadableGenerated:{webpack:()=>[6201]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-10 h-10 p-2 rounded-lg bg-theme-secondary border border-theme animate-pulse flex items-center justify-center",children:(0,a.jsx)(A.Z,{className:"w-5 h-5 text-accent"})})});var M=e=>{var t;let{children:r}=e,s=(0,n.useRouter)(),{user:i,isAuthenticated:c,isAdmin:l,logout:d,loading:m}=(0,f.a)(),{mounted:u}=(0,v.F)();(0,o.useEffect)(()=>{if(!m&&u){if(!c){console.log("❌ Not authenticated, redirecting to admin login"),s.push("/admin/login");return}if(!l){console.log("❌ Not admin user, redirecting to home"),s.push("/");return}console.log("✅ Admin access granted for:",null==i?void 0:i.email)}},[m,u,c,l,s,i]);let[h,p]=(0,o.useState)(!1),[g,b]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=e=>{e.target.closest(".dropdown-container")||b(!1)};if(g)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[g]),(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&b(!1)};if(g)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[g]);let y=[{name:"Tableau de bord",href:"/admin/dashboard",icon:E.Z},{name:"Produits",href:"/admin/products",icon:P.Z},{name:"Inventaire",href:"/admin/inventory",icon:T.Z},{name:"Commandes",href:"/admin/orders",icon:_.Z},{name:"Tickets",href:"/admin/tickets",icon:I.Z},{name:"Utilisateurs",href:"/admin/users",icon:R.Z},{name:"Analytics",href:"/admin/analytics",icon:O.Z},{name:"Ventes",href:"/admin/sales-analytics",icon:z.Z}];return!u||m?(0,a.jsx)("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"spinner w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-theme-secondary",children:"Chargement du tableau de bord..."})]})}):c&&l?(0,a.jsxs)("div",{className:"flex min-h-screen bg-theme-primary text-theme-primary font-sans theme-transition",children:[h&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 transition-opacity lg:hidden",onClick:()=>p(!1)}),(0,a.jsxs)("aside",{className:"\n            fixed lg:static inset-y-0 left-0 z-50 w-72 bg-theme-secondary \n            transform transition-transform duration-300 ease-in-out lg:translate-x-0\n            ".concat(h?"translate-x-0":"-translate-x-full","\n            flex flex-col shadow-2xl border-r border-theme\n          "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-theme",children:[(0,a.jsxs)(x(),{href:"/admin/dashboard",className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-accent rounded-lg flex items-center justify-center",children:(0,a.jsx)(E.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-theme-primary",children:"Panneau d'administration"})]}),(0,a.jsx)("button",{onClick:()=>p(!1),className:"lg:hidden p-2 rounded-lg hover:bg-theme-tertiary transition-colors",children:(0,a.jsx)(S.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:y.map(e=>{let t=e.icon,r=s.pathname.startsWith(e.href);return(0,a.jsxs)(x(),{href:e.href,onClick:()=>p(!1),className:"\n                      flex items-center px-4 py-3 rounded-xl transition-all duration-200\n                      ".concat(r?"bg-accent text-white shadow-lg transform scale-105":"text-theme-secondary hover:bg-theme-tertiary hover:text-theme-primary hover:transform hover:scale-105","\n                    "),children:[(0,a.jsx)(t,{className:"w-5 h-5 mr-3"}),(0,a.jsx)("span",{className:"font-medium",children:e.name}),r&&(0,a.jsx)("div",{className:"ml-auto w-2 h-2 bg-white rounded-full"})]},e.href)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-theme",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-xl bg-theme-tertiary mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-accent rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold",children:(null==i?void 0:null===(t=i.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"A"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-theme-primary truncate",children:(null==i?void 0:i.email)||"Admin"}),(0,a.jsx)("p",{className:"text-xs text-theme-secondary",children:"Administrator"})]})]}),(0,a.jsxs)("button",{onClick:()=>{d(),s.push("/admin/login")},className:"flex items-center w-full px-4 py-3 rounded-xl text-error-color hover:bg-error-color hover:text-white transition-all duration-200 group",children:[(0,a.jsx)(Z,{}),(0,a.jsx)("span",{className:"font-medium",children:"Logout"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-0",children:[(0,a.jsx)("header",{className:"bg-theme-primary shadow-sm border-b border-theme sticky top-0 z-30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>p(!0),className:"lg:hidden p-2 rounded-lg hover:bg-theme-secondary transition-colors",children:(0,a.jsx)(L.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-theme-primary",children:"Welcome, Admin"}),(0,a.jsx)("p",{className:"text-sm text-theme-secondary",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(D,{}),(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("button",{onClick:()=>b(!g),className:"p-2 rounded-lg hover:bg-theme-secondary transition-colors",children:(0,a.jsx)(F.Z,{className:"w-5 h-5 text-theme-secondary"})}),g&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-theme-primary border border-theme rounded-xl shadow-lg z-50 admin-fade-in",children:[(0,a.jsx)("div",{className:"p-4 border-b border-theme",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-theme-primary",children:"Settings"})}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("button",{onClick:()=>{b(!1),console.log("Profile Settings clicked")},className:"w-full text-left p-3 rounded-lg hover:bg-theme-secondary transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(R.Z,{className:"w-4 h-4 text-theme-secondary"}),(0,a.jsx)("span",{className:"text-sm text-theme-primary",children:"Profile Settings"})]})}),(0,a.jsx)("button",{onClick:()=>{b(!1),console.log("System Settings clicked")},className:"w-full text-left p-3 rounded-lg hover:bg-theme-secondary transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4 text-theme-secondary"}),(0,a.jsx)("span",{className:"text-sm text-theme-primary",children:"System Settings"})]})}),(0,a.jsx)("button",{onClick:()=>{b(!1),console.log("Notification Settings clicked")},className:"w-full text-left p-3 rounded-lg hover:bg-theme-secondary transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 text-theme-secondary"}),(0,a.jsx)("span",{className:"text-sm text-theme-primary",children:"Notification Settings"})]})}),(0,a.jsx)("button",{onClick:()=>{b(!1),console.log("Language & Region clicked")},className:"w-full text-left p-3 rounded-lg hover:bg-theme-secondary transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"w-4 h-4 text-theme-secondary",children:"\uD83C\uDF10"}),(0,a.jsx)("span",{className:"text-sm text-theme-primary",children:"Language & Region"})]})})]}),(0,a.jsx)("div",{className:"p-4 border-t border-theme",children:(0,a.jsx)("button",{onClick:()=>{b(!1),s.push("/admin/settings")},className:"w-full text-center text-sm text-accent hover:text-accent-dark transition-colors",children:"Advanced Settings"})})]})]}),(0,a.jsx)(q,{size:"normal"})]})]})}),(0,a.jsx)("main",{className:"flex-1 p-4 lg:p-6 overflow-auto bg-theme-primary",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:r})})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"spinner w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-theme-secondary",children:"V\xe9rification des permissions..."})]})})},V=r(1718),U=r(1557);let H={fr:{"navigation.home":"Accueil","navigation.products":"Produits","navigation.categories":"Cat\xe9gories","navigation.contact":"Contact","navigation.about":"\xc0 propos","navigation.cart":"Panier","navigation.login":"Connexion","navigation.register":"Inscription","navigation.profile":"Profil","navigation.orders":"Commandes","navigation.logout":"D\xe9connexion","navigation.admin":"Administration","navigation.dashboard":"Tableau de bord","home.welcome":"Bienvenue chez","home.hero.subtitle":"Votre marketplace de confiance pour des produits ha\xeftiens de qualit\xe9","home.exploreCategories":"Explorez nos cat\xe9gories","home.categoriesDesc":"Trouvez exactement ce que vous cherchez dans notre large gamme de cat\xe9gories de produits.","home.featuredProducts":"Produits en vedette","home.featuredProductsDesc":"D\xe9couvrez nos produits les plus populaires, soigneusement s\xe9lectionn\xe9s pour leur qualit\xe9 et leur valeur.","home.newArrivals":"Nouveaut\xe9s","home.newArrivalsDesc":"Nouveaux arrivages rien que pour vous. Soyez les premiers \xe0 obtenir ces nouveaux produits incroyables.","product.addToCart":"Ajouter au panier","product.outOfStock":"Rupture de stock","product.lowStock":"Stock faible","product.reviews":"avis","product.featured":"Produits en vedette","product.viewAllProducts":"Voir tous les produits","product.viewAllFeatured":"Voir tout en vedette","product.freeShipping":"Livraison gratuite","product.quantity":"Quantit\xe9","product.freeShippingDesc":"Livraison gratuite pour les commandes de plus de 1000 HTG","product.securePayment":"Paiement s\xe9curis\xe9","product.securePaymentDesc":"Paiement MonCash avec v\xe9rification administrateur","product.qualityProducts":"Produits de qualit\xe9","product.qualityProductsDesc":"Articles de qualit\xe9 sup\xe9rieure \xe0 des prix avantageux","category.electronics":"\xc9lectronique","category.clothing":"V\xeatements","category.homeGoods":"Articles m\xe9nagers","category.accessories":"Accessoires","cart.title":"Panier","cart.empty":"Votre panier est vide. Commencez vos achats!","cart.itemCount":"article","cart.itemCount_plural":"articles","cart.subtotal":"Sous-total","cart.tax":"Taxes","cart.shipping":"Livraison","cart.total":"Total","cart.checkout":"Passer \xe0 la caisse","cart.clearCart":"Vider le panier","cart.remove":"Retirer","cart.proceedToCheckout":"Finaliser la commande","checkout.title":"Commande","checkout.orderSummary":"R\xe9sum\xe9 de la commande","checkout.billingAddress":"Adresse de facturation","checkout.shippingAddress":"Adresse de livraison","checkout.paymentMethod":"M\xe9thode de paiement","checkout.placeOrder":"Passer la commande","checkout.orderPlaced":"Commande pass\xe9e avec succ\xe8s!","checkout.moncash":"MonCash","checkout.moncashDesc":"Payez en toute s\xe9curit\xe9 avec MonCash","user.profile":"Mon profil","user.orders":"Mes commandes","user.personalInfo":"Informations personnelles","user.changePassword":"Changer le mot de passe","user.preferences":"Pr\xe9f\xe9rences","order.orderHistory":"Historique des commandes","order.orderNumber":"Num\xe9ro de commande","order.status":"Statut","order.total":"Total","order.date":"Date","order.noOrders":"Aucune commande trouv\xe9e","order.trackOrder":"Suivre votre commande","footer.newsletter":"Newsletter","footer.newsletterDesc":"Restez inform\xe9 de nos derniers produits et offres.","footer.subscribe":"S'abonner","footer.emailPlaceholder":"Votre email","footer.allRightsReserved":"Tous droits r\xe9serv\xe9s.","footer.madeWith":"Fait avec","footer.inHaiti":"en Ha\xefti","common.loading":"Chargement...","common.error":"Erreur","common.success":"Succ\xe8s","common.cancel":"Annuler","common.save":"Enregistrer","common.edit":"Modifier","common.delete":"Supprimer","common.confirm":"Confirmer","common.close":"Fermer","common.back":"Retour","common.next":"Suivant","common.previous":"Pr\xe9c\xe9dent","common.search":"Rechercher","common.filter":"Filtrer","common.sort":"Trier","common.view":"Voir","common.new":"NOUVEAU","common.featured":"EN VEDETTE","common.products":"produits","common.continueShopping":"Continuer les achats","common.startShopping":"Commencer les achats","common.each":"chacun","common.or":"ou","buttons.submit":"Soumettre","buttons.reset":"R\xe9initialiser","buttons.clear":"Effacer","buttons.apply":"Appliquer","buttons.update":"Mettre \xe0 jour","buttons.create":"Cr\xe9er","buttons.add":"Ajouter","buttons.remove":"Retirer","error.generic":"Une erreur s'est produite","error.network":"Erreur de r\xe9seau","error.404":"Page non trouv\xe9e","error.500":"Erreur du serveur","error.goHome":"Aller \xe0 l'accueil","error.tryAgain":"R\xe9essayer","notifications.title":"Notifications","notifications.clearAll":"Tout effacer","notifications.empty":"Aucune nouvelle notification.","messages.loggedOutSuccessfully":"D\xe9connexion r\xe9ussie!","auth.login":"Se connecter","auth.register":"S'inscrire","auth.logout":"Se d\xe9connecter","auth.email":"Email","auth.password":"Mot de passe","auth.confirmPassword":"Confirmer le mot de passe","auth.firstName":"Pr\xe9nom","auth.lastName":"Nom","auth.phone":"T\xe9l\xe9phone","auth.loginRequired":"Vous devez \xeatre connect\xe9 pour acc\xe9der \xe0 cette page."},en:{"navigation.home":"Home","navigation.products":"Products","navigation.categories":"Categories","navigation.contact":"Contact","navigation.about":"About","navigation.cart":"Cart","navigation.login":"Login","navigation.register":"Register","navigation.profile":"Profile","navigation.orders":"Orders","navigation.logout":"Logout","navigation.admin":"Admin","navigation.dashboard":"Dashboard","home.welcome":"Welcome to","home.hero.subtitle":"Your trusted marketplace for quality Haitian products","home.exploreCategories":"Explore Our Categories","home.categoriesDesc":"Find exactly what you are looking for across a wide range of product categories.","home.featuredProducts":"Featured Products","home.featuredProductsDesc":"Check out our most popular products, carefully selected for quality and value.","home.newArrivals":"New Arrivals","home.newArrivalsDesc":"Fresh arrivals just for you. Be the first to get these amazing new products.","product.addToCart":"Add to Cart","product.outOfStock":"Out of Stock","product.lowStock":"Low Stock","product.reviews":"reviews","product.featured":"Featured Products","product.viewAllProducts":"View All Products","product.viewAllFeatured":"View All Featured","product.freeShipping":"Free Shipping","product.quantity":"Quantity","product.freeShippingDesc":"Free shipping on orders over 1000 HTG","product.securePayment":"Secure Payment","product.securePaymentDesc":"MonCash payment with admin verification","product.qualityProducts":"Quality Products","product.qualityProductsDesc":"Premium quality items at great prices","category.electronics":"Electronics","category.clothing":"Clothing","category.homeGoods":"Home Goods","category.accessories":"Accessories","cart.title":"Cart","cart.empty":"Your cart is empty. Start shopping!","cart.itemCount":"item","cart.itemCount_plural":"items","cart.subtotal":"Subtotal","cart.tax":"Tax","cart.shipping":"Shipping","cart.total":"Total","cart.checkout":"Checkout","cart.clearCart":"Clear Cart","cart.remove":"Remove","cart.proceedToCheckout":"Proceed to Checkout","checkout.title":"Checkout","checkout.orderSummary":"Order Summary","checkout.billingAddress":"Billing Address","checkout.shippingAddress":"Shipping Address","checkout.paymentMethod":"Payment Method","checkout.placeOrder":"Place Order","checkout.orderPlaced":"Order Placed Successfully!","checkout.moncash":"MonCash","checkout.moncashDesc":"Pay securely with MonCash","user.profile":"My Profile","user.orders":"My Orders","user.personalInfo":"Personal Information","user.changePassword":"Change Password","user.preferences":"Preferences","order.orderHistory":"Order History","order.orderNumber":"Order Number","order.status":"Status","order.total":"Total","order.date":"Date","order.noOrders":"No Orders Found","order.trackOrder":"Track Your Order","footer.newsletter":"Newsletter","footer.newsletterDesc":"Stay updated with our latest products and offers.","footer.subscribe":"Subscribe","footer.emailPlaceholder":"Your email","footer.allRightsReserved":"All rights reserved.","footer.madeWith":"Made with","footer.inHaiti":"in Haiti","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.confirm":"Confirm","common.close":"Close","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.sort":"Sort","common.view":"View","common.new":"NEW","common.featured":"FEATURED","common.products":"products","common.continueShopping":"Continue Shopping","common.startShopping":"Start Shopping","common.each":"each","common.or":"or","buttons.submit":"Submit","buttons.reset":"Reset","buttons.clear":"Clear","buttons.apply":"Apply","buttons.update":"Update","buttons.create":"Create","buttons.add":"Add","buttons.remove":"Remove","error.generic":"An error occurred","error.network":"Network error","error.404":"Page Not Found","error.500":"Server Error","error.goHome":"Go to Homepage","error.tryAgain":"Try Again","notifications.title":"Notifications","notifications.clearAll":"Clear All","notifications.empty":"No new notifications.","messages.loggedOutSuccessfully":"Logged out successfully!","auth.login":"Login","auth.register":"Register","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.firstName":"First Name","auth.lastName":"Last Name","auth.phone":"Phone","auth.loginRequired":"You must be logged in to view this page."}},J=(0,o.createContext)(),B=e=>{let{children:t}=e,[r,s]=(0,o.useState)("fr"),[n,i]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=localStorage.getItem("language");e&&("fr"===e||"en"===e)&&s(e)},[]),(0,o.useEffect)(()=>{localStorage.setItem("language",r)},[r]);let c=async e=>{e!==r&&(i(!0),await new Promise(e=>setTimeout(e,200)),s(e),i(!1))};return(0,a.jsx)(J.Provider,{value:{language:r,setLanguage:s,changeLanguage:c,t:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=e.split("."),a=H[r];for(let e of s)if(a&&"object"==typeof a)a=a[e];else{a=void 0;break}if(void 0===a&&"en"!==r){let e=H.en;for(let t of s)if(e&&"object"==typeof e)e=e[t];else{e=void 0;break}a=e}return a||t||e},formatCurrency:e=>"fr"===r?"".concat(e.toFixed(2)," HTG"):"$".concat(e.toFixed(2)),formatDate:e=>new Date(e).toLocaleDateString("fr"===r?"fr-HT":"en-US",{year:"numeric",month:"long",day:"numeric"}),isLoading:n,availableLanguages:[{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDED\uD83C\uDDF9"},{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"}]},children:t})};r(3434),r(6811);let G=new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});class W extends o.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,a.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"red",backgroundColor:"#fee"},children:[(0,a.jsx)("h2",{children:"Something went wrong during rendering."}),(0,a.jsx)("p",{children:"Please try refreshing the page. If the issue persists, contact support."}),!1]}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}}var Y=function(e){let{Component:t,pageProps:r}=e,{pathname:i}=(0,n.useRouter)(),d=i.startsWith("/admin"),h="/admin/login"===i;return i.startsWith("/auth"),(0,o.useEffect)(()=>{let e=document.querySelector("#jss-server-side");e&&e.parentElement.removeChild(e);let t=e=>console.error("Global error:",e.error),r=e=>console.error("Unhandled promise rejection:",e.reason);return window.addEventListener("error",t),window.addEventListener("unhandledrejection",r),()=>{window.removeEventListener("error",t),window.removeEventListener("unhandledrejection",r)}},[]),(0,o.useEffect)(()=>{"performance"in window&&window.addEventListener("load",()=>{setTimeout(()=>{let e=performance.getEntriesByType("navigation")[0];e&&console.log("Page load time: ".concat(e.loadEventEnd-e.loadEventStart,"ms"))},0)})},[i]),console.log("--- Checking components in _app.js ---"),console.log("Layout (after import change):",u.Z),console.log("AdminLayout (after import change):",M),console.log("AuthProvider:",f.H),console.log("SocketProvider:",V.w),console.log("CartProvider:",U.Z),console.log("ThemeProvider:",v.f),console.log("Toaster:",l.x7),console.log("--- End checking components in _app.js ---"),(0,a.jsxs)(c.aH,{client:G,children:[(0,a.jsxs)(m(),{children:[(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"}),(0,a.jsx)("meta",{name:"theme-color",content:"#b8d2b3"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(W,{children:(0,a.jsx)(B,{children:(0,a.jsx)(f.H,{children:(0,a.jsx)(V.w,{children:(0,a.jsx)(U.Z,{children:(0,a.jsxs)(v.f,{children:[d&&!h?(0,a.jsx)(M,{children:(0,a.jsx)(t,(0,s._)({},r))}):h?(0,a.jsx)(t,(0,s._)({},r)):(0,a.jsx)(u.Z,{children:(0,a.jsx)(t,(0,s._)({},r))}),(0,a.jsx)(l.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"14px",maxWidth:"500px",padding:"12px 16px"},success:{duration:3e3,iconTheme:{primary:"var(--success-color)",secondary:"white"},style:{background:"var(--success-light)",color:"var(--success-color)"}},error:{duration:4e3,iconTheme:{primary:"var(--error-color)",secondary:"white"},style:{background:"var(--error-light)",color:"var(--error-color)"}},loading:{duration:1/0,iconTheme:{primary:"var(--info-color)",secondary:"white"},style:{background:"var(--info-light)",color:"var(--info-color)"}}},containerStyle:{top:"20px",right:"20px"}})]})})})})})})]})}},6811:function(){},3434:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[216,179],function(){return t(1118),t(3079)}),_N_E=e.O()}]);